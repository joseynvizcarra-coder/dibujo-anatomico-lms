<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mentor Anat√≥mico UAH - Chat</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-dark: #2c5f66;
            --primary-light: #e8a2b8;
            --dark: #1a1a1a;
            --success: #4CAF50;
            --warning: #FFC107;
            --bg-light: #f8f9fa;
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.05);
            --shadow-md: 0 4px 16px rgba(0,0,0,0.1);
            --border-radius: 18px;
            --transition: all 0.3s ease;
        }

        [data-theme="dark"] {
            --bg-light: #1a1a1a;
            --dark: #ffffff;
            --primary-dark: #3d7d86;
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.3);
            --shadow-md: 0 4px 16px rgba(0,0,0,0.4);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-light);
            color: var(--dark);
            transition: var(--transition);
        }

        .chat-container {
            max-width: 900px;
            margin: 0 auto;
            height: 100vh;
            display: flex;
            flex-direction: column;
            background: var(--bg-light);
        }

        /* HEADER */
        .chat-header {
            background: linear-gradient(135deg, var(--primary-dark), var(--dark));
            color: white;
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow-md);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .avatar-bot {
            width: 45px;
            height: 45px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .header-text h1 {
            font-size: 1.2rem;
            font-weight: 600;
            margin: 0;
        }

        .status-badge {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            font-size: 0.85rem;
            opacity: 0.9;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: var(--success);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .header-actions {
            display: flex;
            gap: 0.5rem;
        }

        .btn-icon {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .btn-icon:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }

        /* M√ìDULO SELECTOR */
        .module-selector {
            background: white;
            border-bottom: 2px solid #e0e7ff;
            padding: 0.75rem 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        [data-theme="dark"] .module-selector {
            background: #2a2a2a;
            border-bottom-color: #444;
        }

        .module-selector label {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .module-select {
            padding: 0.5rem 1rem;
            border: 2px solid var(--primary-light);
            border-radius: 10px;
            background: var(--bg-light);
            color: var(--dark);
            font-size: 0.9rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .module-select:hover {
            border-color: var(--primary-dark);
        }

        /* QUICK REPLIES */
        .quick-replies {
            background: white;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #e0e7ff;
            overflow-x: auto;
            scrollbar-width: thin;
        }

        [data-theme="dark"] .quick-replies {
            background: #2a2a2a;
            border-bottom-color: #444;
        }

        .quick-replies-label {
            font-size: 0.85rem;
            color: #666;
            margin-bottom: 0.75rem;
            font-weight: 600;
        }

        [data-theme="dark"] .quick-replies-label {
            color: #aaa;
        }

        .quick-replies-container {
            display: flex;
            gap: 0.5rem;
            overflow-x: auto;
            padding-bottom: 0.5rem;
            scrollbar-width: thin;
        }

        .quick-reply-btn {
            background: white;
            border: 2px solid var(--primary-dark);
            color: var(--primary-dark);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            white-space: nowrap;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }

        [data-theme="dark"] .quick-reply-btn {
            background: #2a2a2a;
        }

        .quick-reply-btn:hover {
            background: var(--primary-dark);
            color: white;
            transform: translateY(-2px);
        }

        /* CHAT MESSAGES */
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .message {
            display: flex;
            gap: 0.75rem;
            animation: messageSlideIn 0.3s ease;
        }

        @keyframes messageSlideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .message.bot .message-avatar {
            background: var(--primary-dark);
            color: white;
        }

        .message.user .message-avatar {
            background: var(--primary-light);
            color: var(--dark);
        }

        .message-content {
            max-width: 70%;
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .message-bubble {
            padding: 1rem 1.25rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-sm);
            line-height: 1.6;
        }

        .message.bot .message-bubble {
            background: var(--primary-dark);
            color: white;
            border-bottom-left-radius: 4px;
        }

        .message.user .message-bubble {
            background: var(--primary-light);
            color: var(--dark);
            border-bottom-right-radius: 4px;
        }

        [data-theme="dark"] .message.user .message-bubble {
            color: var(--dark);
        }

        .message-bubble h4 {
            font-size: 1.1rem;
            margin-bottom: 0.75rem;
            font-weight: 600;
        }

        .message-bubble ul {
            margin: 0.75rem 0;
            padding-left: 1.25rem;
        }

        .message-bubble li {
            margin: 0.5rem 0;
        }

        .message-bubble strong {
            font-weight: 600;
        }

        .message-section {
            margin: 1rem 0;
            padding-left: 0.75rem;
            border-left: 3px solid rgba(255,255,255,0.3);
        }

        .message.user .message-section {
            border-left-color: rgba(0,0,0,0.2);
        }

        .message-time {
            font-size: 0.75rem;
            opacity: 0.7;
            align-self: flex-end;
        }

        .message.user .message-time {
            align-self: flex-start;
        }

        /* TYPING INDICATOR */
        .typing-indicator {
            display: none;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem;
        }

        .typing-indicator.active {
            display: flex;
        }

        .typing-dots {
            background: var(--primary-dark);
            padding: 1rem;
            border-radius: var(--border-radius);
            display: flex;
            gap: 0.4rem;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            animation: typingDot 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typingDot {
            0%, 60%, 100% { opacity: 0.3; transform: scale(0.8); }
            30% { opacity: 1; transform: scale(1.2); }
        }

        /* FEEDBACK BUTTONS */
        .message-feedback {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .btn-feedback-msg {
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 0.4rem 0.75rem;
            border-radius: 12px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .message.user .btn-feedback-msg {
            background: rgba(0,0,0,0.1);
            border-color: rgba(0,0,0,0.2);
            color: var(--dark);
        }

        .btn-feedback-msg:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.05);
        }

        /* RELATED TOPICS */
        .related-topics {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255,255,255,0.2);
        }

        .message.user .related-topics {
            border-top-color: rgba(0,0,0,0.2);
        }

        .related-topic-btn {
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 0.4rem 0.75rem;
            border-radius: 15px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .message.user .related-topic-btn {
            background: rgba(0,0,0,0.1);
            border-color: rgba(0,0,0,0.2);
            color: var(--dark);
        }

        .related-topic-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-1px);
        }

        /* INPUT AREA */
        .chat-input-container {
            background: white;
            padding: 1rem 1.5rem;
            border-top: 2px solid #e0e7ff;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
        }

        [data-theme="dark"] .chat-input-container {
            background: #2a2a2a;
            border-top-color: #444;
        }

        .input-wrapper {
            display: flex;
            gap: 0.75rem;
            align-items: flex-end;
        }

        .chat-input {
            flex: 1;
            padding: 0.875rem 1.25rem;
            border: 2px solid var(--primary-light);
            border-radius: 20px;
            font-size: 1rem;
            resize: none;
            max-height: 120px;
            background: var(--bg-light);
            color: var(--dark);
            font-family: inherit;
            transition: var(--transition);
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--primary-dark);
            box-shadow: 0 0 0 3px rgba(44, 95, 102, 0.1);
        }

        .btn-send {
            width: 45px;
            height: 45px;
            background: var(--primary-dark);
            color: white;
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1.2rem;
        }

        .btn-send:hover {
            background: var(--primary-light);
            color: var(--dark);
            transform: scale(1.1);
        }

        .btn-send:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* WELCOME MESSAGE */
        .welcome-message {
            text-align: center;
            padding: 3rem 2rem;
            color: #666;
        }

        [data-theme="dark"] .welcome-message {
            color: #aaa;
        }

        .welcome-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .welcome-message h3 {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            color: var(--dark);
        }

        .welcome-message p {
            font-size: 0.95rem;
            line-height: 1.6;
        }

        /* STATS PANEL */
        .stats-panel {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 1.5rem;
            box-shadow: var(--shadow-sm);
        }

        [data-theme="dark"] .stats-panel {
            background: #2a2a2a;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
        }

        .stat-item {
            text-align: center;
            padding: 1rem;
            background: var(--bg-light);
            border-radius: 10px;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-dark);
        }

        .stat-label {
            font-size: 0.85rem;
            color: #666;
            margin-top: 0.25rem;
        }

        [data-theme="dark"] .stat-label {
            color: #aaa;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .chat-header {
                padding: 0.875rem 1rem;
            }

            .header-text h1 {
                font-size: 1rem;
            }

            .status-badge {
                font-size: 0.75rem;
            }

            .message-content {
                max-width: 85%;
            }

            .chat-messages {
                padding: 1rem;
            }

            .module-selector {
                padding: 0.5rem 1rem;
            }
        }

        /* SCROLLBAR */
        .chat-messages::-webkit-scrollbar,
        .quick-replies-container::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        .chat-messages::-webkit-scrollbar-track,
        .quick-replies-container::-webkit-scrollbar-track {
            background: transparent;
        }

        .chat-messages::-webkit-scrollbar-thumb,
        .quick-replies-container::-webkit-scrollbar-thumb {
            background: var(--primary-light);
            border-radius: 10px;
        }

        /* FLOATING BUTTON (for integration) */
        .floating-chat-btn {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 60px;
            height: 60px;
            background: var(--primary-dark);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 1.5rem;
            box-shadow: 0 4px 20px rgba(44, 95, 102, 0.4);
            cursor: pointer;
            z-index: 999;
            display: none;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .floating-chat-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(44, 95, 102, 0.5);
        }

        .floating-chat-btn.show {
            display: flex;
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <!-- HEADER -->
        <div class="chat-header">
            <div class="header-info">
                <div class="avatar-bot">ü§ñ</div>
                <div class="header-text">
                    <h1>Mentor Anat√≥mico UAH</h1>
                    <div class="status-badge">
                        <span class="status-dot"></span>
                        <span>Online ¬∑ Respondiendo al instante</span>
                    </div>
                </div>
            </div>
            <div class="header-actions">
                <button class="btn-icon" id="btn-theme" title="Cambiar tema">
                    <i class="bi bi-moon-fill"></i>
                </button>
                <button class="btn-icon" id="btn-clear" title="Limpiar chat">
                    <i class="bi bi-trash"></i>
                </button>
                <button class="btn-icon" id="btn-stats" title="Ver estad√≠sticas">
                    <i class="bi bi-graph-up"></i>
                </button>
            </div>
        </div>

        <!-- MODULE SELECTOR -->
        <div class="module-selector">
            <label for="module-select">üìç Contexto:</label>
            <select class="module-select" id="module-select">
                <option value="general">General / Todas las preguntas</option>
                <option value="modulo1">M√≥dulo 1: Observaci√≥n y Gesto</option>
                <option value="modulo2">M√≥dulo 2: Anatom√≠a Funcional</option>
                <option value="modulo3">M√≥dulo 3: Figura Completa</option>
                <option value="sistema">Sistema LMS</option>
            </select>
        </div>

        <!-- QUICK REPLIES -->
        <div class="quick-replies">
            <div class="quick-replies-label">üí° Preguntas frecuentes:</div>
            <div class="quick-replies-container" id="quick-replies"></div>
        </div>

        <!-- MESSAGES -->
        <div class="chat-messages" id="chat-messages">
            <div class="welcome-message">
                <div class="welcome-icon">üëã</div>
                <h3>¬°Hola! Soy tu Mentor Anat√≥mico</h3>
                <p>Estoy aqu√≠ para ayudarte con dudas sobre anatom√≠a, t√©cnicas de dibujo, proporciones y todo lo relacionado con el curso.</p>
                <p style="margin-top: 1rem;"><strong>Selecciona una pregunta r√°pida o escribe tu consulta abajo</strong></p>
            </div>
        </div>

        <!-- TYPING INDICATOR -->
        <div class="typing-indicator" id="typing-indicator">
            <div class="message-avatar" style="background: var(--primary-dark); color: white;">ü§ñ</div>
            <div class="typing-dots">
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            </div>
        </div>

        <!-- INPUT -->
        <div class="chat-input-container">
            <div class="input-wrapper">
                <textarea 
                    class="chat-input" 
                    id="chat-input"
                    rows="1"
                    placeholder="Preg√∫ntame sobre anatom√≠a, proporciones, t√©cnicas..."
                ></textarea>
                <button class="btn-send" id="btn-send">
                    <i class="bi bi-send-fill"></i>
                </button>
            </div>
        </div>
    </div>

    <script>
        // ========== BASE DE DATOS DE CONOCIMIENTO ==========
        const knowledgeBase = {
            // M√ìDULO 1: OBSERVACI√ìN Y GESTO
            modulo1: [
                {
                    id: "linea-accion",
                    keywords: ["l√≠nea", "acci√≥n", "gesto", "eje", "direcci√≥n", "movimiento"],
                    question: "¬øQu√© es la l√≠nea de acci√≥n?",
                    answer: {
                        title: "L√≠nea de Acci√≥n",
                        content: `La <strong>l√≠nea de acci√≥n</strong> es el eje imaginario que atraviesa toda la figura, definiendo la direcci√≥n y energ√≠a del movimiento. <strong>NO es una l√≠nea que dibujes literalmente</strong>, sino una gu√≠a mental para capturar la esencia del gesto.

<div class="message-section"><strong>üîë Caracter√≠sticas clave:</strong>
‚Ä¢ <strong>Recorrido:</strong> Desde la cabeza hasta el pie de apoyo
‚Ä¢ <strong>Forma:</strong> Recta en poses est√°ticas, curva en poses din√°micas
‚Ä¢ <strong>Funci√≥n:</strong> Define la direcci√≥n principal del movimiento
‚Ä¢ <strong>Prioridad:</strong> Es lo PRIMERO que debes identificar</div>

<div class="message-section"><strong>üí° En tu croquis de 2 minutos:</strong>
1. Observa 10-20 segundos SIN dibujar
2. Identifica mentalmente esa l√≠nea invisible
3. Tr√°zala PRIMERO (0-30 seg)
4. Luego agrega masa corporal (30-120 seg)</div>

üìö <strong>Referencia:</strong> Loomis (1943) explica que la l√≠nea de acci√≥n es el primer paso antes de agregar masa o detalles.`,
                        related: ["contrapposto", "punto de apoyo", "croquis r√°pidos"]
                    }
                },
                {
                    id: "medir-lapiz",
                    keywords: ["medir", "proporciones", "l√°piz", "medici√≥n", "m√©todo"],
                    question: "¬øC√≥mo mido proporciones con el l√°piz?",
                    answer: {
                        title: "M√©todo del L√°piz",
                        content: `El <strong>m√©todo del l√°piz</strong> te permite medir relaciones entre partes del cuerpo, NO tama√±os exactos.

<div class="message-section"><strong>üìê Paso a paso:</strong>
1. <strong>Extiende el brazo completamente</strong> (codo bloqueado)
2. <strong>Cierra un ojo</strong> para eliminar paralaje
3. <strong>Alinea la punta del l√°piz</strong> con el punto superior
4. <strong>Marca con el pulgar</strong> el punto inferior
5. <strong>Usa esa "unidad"</strong> para comparar otras partes</div>

<div class="message-section"><strong>‚ö†Ô∏è Errores comunes:</strong>
‚Ä¢ Doblar el codo = medidas inconsistentes
‚Ä¢ No cerrar un ojo = distorsi√≥n
‚Ä¢ Cambiar la distancia del brazo entre mediciones</div>

<div class="message-section"><strong>‚úÖ Pr√°ctica (Lecci√≥n 1.2):</strong>
‚Ä¢ Mide la cabeza como unidad base (1 unidad)
‚Ä¢ El cuerpo completo: ~7.5 cabezas
‚Ä¢ Torso: ~3 cabezas | Piernas: ~4 cabezas</div>

üéØ <strong>Objetivo:</strong> 80% de precisi√≥n (OE2)`,
                        related: ["canon 7.5 cabezas", "proporciones"]
                    }
                },
                {
                    id: "contrapposto",
                    keywords: ["contrapposto", "balance", "peso", "apoyo", "distribuci√≥n"],
                    question: "¬øQu√© es el contrapposto?",
                    answer: {
                        title: "Contrapposto y Balance",
                        content: `El <strong>contrapposto</strong> es una postura donde el peso del cuerpo est√° distribuido asim√©tricamente sobre una pierna, creando una postura natural y din√°mica.

<div class="message-section"><strong>üéØ Caracter√≠sticas:</strong>
‚Ä¢ <strong>Pierna de apoyo:</strong> Recibe el peso (l√≠nea recta)
‚Ä¢ <strong>Pierna libre:</strong> Relajada, flexionada
‚Ä¢ <strong>Cadera:</strong> Elevada del lado de apoyo
‚Ä¢ <strong>Hombros:</strong> Se inclinan en direcci√≥n opuesta
‚Ä¢ <strong>Columna:</strong> Forma curva en "S"</div>

<div class="message-section"><strong>üîç C√≥mo identificarlo:</strong>
‚Ä¢ Observa qu√© pie est√° completamente apoyado
‚Ä¢ Nota c√≥mo la cadera de ese lado est√° m√°s alta
‚Ä¢ Ve c√≥mo los hombros compensan al lado contrario
‚Ä¢ La l√≠nea de acci√≥n ser√° curva, no recta</div>

<div class="message-section"><strong>‚úèÔ∏è En tu croquis de 5 min (Lecci√≥n 1.3):</strong>
1. Dibuja la l√≠nea de acci√≥n curva
2. Marca el punto de apoyo en el suelo
3. Indica la diferencia de altura entre caderas
4. Muestra la inclinaci√≥n opuesta de hombros</div>`,
                        related: ["l√≠nea de acci√≥n", "punto de apoyo", "balance"]
                    }
                },
                {
                    id: "croquis-rapido",
                    keywords: ["croquis", "r√°pido", "2 minutos", "dibujo r√°pido", "tiempo"],
                    question: "¬øC√≥mo hacer un croquis de 2 minutos?",
                    answer: {
                        title: "Croquis R√°pidos (2 minutos)",
                        content: `Los croquis de 2 minutos buscan <strong>capturar la esencia del gesto</strong>, NO crear un dibujo detallado.

<div class="message-section"><strong>‚è±Ô∏è Distribuci√≥n del tiempo:</strong>
‚Ä¢ <strong>0-20 seg:</strong> OBSERVA sin dibujar (l√≠nea de acci√≥n, balance)
‚Ä¢ <strong>20-40 seg:</strong> Dibuja l√≠nea de acci√≥n y formas b√°sicas
‚Ä¢ <strong>40-100 seg:</strong> Agrega masa corporal simple
‚Ä¢ <strong>100-120 seg:</strong> √öltimo vistazo, ajustes m√≠nimos</div>

<div class="message-section"><strong>‚úÖ Lo que DEBES hacer:</strong>
‚Ä¢ Usar trazos sueltos y seguros
‚Ä¢ Priorizar el gesto sobre detalles
‚Ä¢ Mantener el l√°piz en movimiento
‚Ä¢ Capturar la energ√≠a y direcci√≥n</div>

<div class="message-section"><strong>‚ùå Lo que NO hacer:</strong>
‚Ä¢ Borrar (no hay tiempo)
‚Ä¢ Dibujar contornos cuidadosos
‚Ä¢ Agregar detalles faciales o dedos
‚Ä¢ Preocuparte por la "perfecci√≥n"</div>

üéØ <strong>Meta:</strong> Capturar l√≠nea de acci√≥n con 80% precisi√≥n (OE1)

üí™ <strong>Recuerda:</strong> El 47% de tus compa√±eros siente ansiedad. Los croquis r√°pidos ayudan a superar el miedo al error.`,
                        related: ["l√≠nea de acci√≥n", "gesto", "observaci√≥n"]
                    }
                },
                {
                    id: "punto-apoyo",
                    keywords: ["punto", "apoyo", "pie", "base", "equilibrio", "estabilidad"],
                    question: "¬øQu√© es el punto de apoyo?",
                    answer: {
                        title: "Punto de Apoyo",
                        content: `El <strong>punto de apoyo</strong> es donde el peso del cuerpo se transfiere al suelo. Identificarlo es crucial para que tus figuras se vean estables.

<div class="message-section"><strong>üéØ Caracter√≠sticas:</strong>
‚Ä¢ Es el punto donde la figura toca el suelo
‚Ä¢ En contrapposto: usualmente un pie completo
‚Ä¢ En poses din√°micas: puede ser la punta del pie
‚Ä¢ Define la estabilidad visual de la figura</div>

<div class="message-section"><strong>‚úÖ C√≥mo identificarlo:</strong>
‚Ä¢ Observa qu√© pie est√° plano en el suelo
‚Ä¢ La l√≠nea de acci√≥n llega hasta este punto
‚Ä¢ El peso del cuerpo se distribuye desde aqu√≠
‚Ä¢ En poses est√°ticas: centro entre ambos pies</div>

<div class="message-section"><strong>üí° Tip importante:</strong>
Si el punto de apoyo est√° mal ubicado, toda la figura se ver√° inestable, aunque las proporciones sean correctas.</div>`,
                        related: ["contrapposto", "l√≠nea de acci√≥n", "balance"]
                    }
                }
            ],

            // M√ìDULO 2: ANATOM√çA FUNCIONAL
            modulo2: [
                {
                    id: "tres-masas",
                    keywords: ["3 masas", "tres masas", "cabeza", "torso", "pelvis", "bloques"],
                    question: "¬øQu√© son las 3 masas corporales?",
                    answer: {
                        title: "3 Masas Corporales",
                        content: `Las <strong>3 masas corporales</strong> son una simplificaci√≥n estructural del cuerpo que te permite construir figuras s√≥lidas y volum√©tricas.

<div class="message-section"><strong>üî∑ Las 3 masas:</strong>
1. <strong>CABEZA:</strong> √ìvalo o esfera (incluye cuello)
2. <strong>TORSO:</strong> Caja de costillas (hombros ‚Üí cintura)
3. <strong>PELVIS:</strong> Cuenco invertido (cintura ‚Üí entrepierna)</div>

<div class="message-section"><strong>üéØ Por qu√© funciona:</strong>
‚Ä¢ Cada masa puede rotar independientemente
‚Ä¢ Crea volumen 3D desde el inicio
‚Ä¢ Facilita entender la perspectiva
‚Ä¢ Establece proporciones antes de detalles</div>

<div class="message-section"><strong>‚úèÔ∏è Aplicaci√≥n (Lecci√≥n 2.1, 15 min):</strong>
<strong>Paso 1:</strong> L√≠nea de acci√≥n
<strong>Paso 2:</strong> Dibuja las 3 masas como formas 3D
<strong>Paso 3:</strong> Define √°ngulo entre ellas
<strong>Paso 4:</strong> Conecta con cuello y cintura
<strong>Paso 5:</strong> Agrega extremidades</div>

üí° <strong>Tips:</strong>
‚Ä¢ El torso NO es cilindro: tiene forma de barril
‚Ä¢ La pelvis se inclina en contrapposto
‚Ä¢ Piensa en cajas, NO siluetas planas`,
                        related: ["anatom√≠a", "volumen", "estructura"]
                    }
                },
                {
                    id: "manos-estructura",
                    keywords: ["mano", "manos", "dedos", "palma", "estructura", "plana"],
                    question: "Mi mano se ve plana, ¬øqu√© hago?",
                    answer: {
                        title: "Estructura de las Manos",
                        content: `Las manos planas ocurren cuando dibujas el <strong>contorno sin entender la estructura 3D</strong>.

<div class="message-section"><strong>üõ†Ô∏è Soluci√≥n estructural:</strong>
1. <strong>Palma = Bloque:</strong> Rect√°ngulo con GROSOR (no plano)
2. <strong>Dedos = Cilindros:</strong> Cada dedo: 3 falanges = 3 cilindros
3. <strong>Articulaciones = Esferas:</strong> Marca las articulaciones
4. <strong>Pulgar especial:</strong> 2 falanges, nace del LATERAL</div>

<div class="message-section"><strong>üì¶ Piensa en vol√∫menes:</strong>
‚Ä¢ Palma: caja con altura, anchura Y profundidad
‚Ä¢ Dedos: cilindros que se estrechan
‚Ä¢ Cada articulaci√≥n permite rotaci√≥n
‚Ä¢ Los dedos se curvan hacia el pulgar</div>

<div class="message-section"><strong>‚úèÔ∏è Ejercicio progresivo (Lecci√≥n 2.3):</strong>
<strong>Fase 1 (2 min):</strong> SOLO palma como volumen
<strong>Fase 2 (2 min):</strong> Agrega UN dedo (3 segmentos)
<strong>Fase 3 (3 min):</strong> Completa 4 dedos restantes
<strong>Fase 4 (2 min):</strong> Agrega pulgar desde lateral
<strong>Fase 5 (6 min):</strong> Refina proporciones</div>

<div class="message-section"><strong>‚úÖ Checklist:</strong>
‚òê ¬øPalma tiene grosor visible?
‚òê ¬øCada dedo tiene 3 segmentos?
‚òê ¬øPulgar posicionado correctamente?
‚òê ¬øArticulaciones marcadas?
‚òê ¬øDedos se curvan naturalmente?</div>

üìö <strong>Hogarth (1996):</strong> "La mano es una pala con 5 palitos"`,
                        related: ["anatom√≠a dedos", "escorzo", "volumen"]
                    }
                },
                {
                    id: "grupos-musculares",
                    keywords: ["m√∫sculos", "musculos", "grupos", "anatom√≠a", "6 grupos"],
                    question: "¬øCu√°les son los 6 grupos musculares?",
                    answer: {
                        title: "6 Grupos Musculares",
                        content: `El curso ense√±a los <strong>6 grupos musculares superficiales</strong> m√°s importantes para representar la figura con volumen.

<div class="message-section"><strong>üí™ Los 6 grupos (vista frontal):</strong>
1. <strong>PECTORALES:</strong> M√∫sculos del pecho (abanico desde estern√≥n)
2. <strong>ABDOMINALES:</strong> "Six-pack" + oblicuos laterales
3. <strong>DELTOIDES:</strong> Hombros (gota invertida)
4. <strong>B√çCEPS/TR√çCEPS:</strong> Brazos (volumen brazo superior)
5. <strong>CU√ÅDRICEPS:</strong> Muslos frontales (4 m√∫sculos)
6. <strong>GEMELOS:</strong> Pantorrillas (forma diamante)</div>

<div class="message-section"><strong>üé® Aplicaci√≥n (20 min, Lecci√≥n 2.2):</strong>
<strong>Primero:</strong> Dibuja las 3 masas corporales
<strong>Segundo:</strong> Agrega los 6 grupos como formas simples
<strong>Tercero:</strong> Define direcci√≥n seg√∫n la pose
<strong>Cuarto:</strong> Conecta los grupos naturalmente</div>

<div class="message-section"><strong>‚ö†Ô∏è Errores comunes:</strong>
‚Ä¢ Dibujar m√∫sculos como l√≠neas vs vol√∫menes
‚Ä¢ Agregar m√∫sculos sin tener las 3 masas
‚Ä¢ M√∫sculos "flotantes" sin conexi√≥n
‚Ä¢ Exceso de detalle (el curso pide SIMPLIFICACI√ìN)</div>

üí° <strong>Principio clave:</strong> Los m√∫sculos siguen la forma y direcci√≥n del movimiento. NO dibujes anatom√≠a de memoria.`,
                        related: ["anatom√≠a", "3 masas", "estructura"]
                    }
                },
                {
                    id: "proporciones-rostro",
                    keywords: ["rostro", "cara", "proporciones", "faciales", "tercios"],
                    question: "¬øC√≥mo dibujar proporciones faciales?",
                    answer: {
                        title: "Regla de Tercios Faciales",
                        content: `La <strong>regla de tercios</strong> divide el rostro en 3 secciones iguales para proporciones correctas.

<div class="message-section"><strong>üìè Los 3 tercios (vista frontal):</strong>
‚Ä¢ <strong>Tercio superior:</strong> L√≠nea de cabello ‚Üí cejas
‚Ä¢ <strong>Tercio medio:</strong> Cejas ‚Üí base de nariz
‚Ä¢ <strong>Tercio inferior:</strong> Base nariz ‚Üí barbilla</div>

<div class="message-section"><strong>üëÄ Ubicaci√≥n de rasgos:</strong>
‚Ä¢ <strong>Ojos:</strong> En el ECUADOR del cr√°neo (mitad exacta)
‚Ä¢ <strong>Ancho entre ojos:</strong> Un ojo de separaci√≥n
‚Ä¢ <strong>Ancho total cara:</strong> 5 ojos
‚Ä¢ <strong>Orejas:</strong> Desde cejas hasta base nariz
‚Ä¢ <strong>Boca:</strong> Entre nariz y barbilla, m√°s cerca de nariz</div>

<div class="message-section"><strong>‚úèÔ∏è Proceso (Lecci√≥n 2.4):</strong>
1. Dibuja √≥valo para la cabeza
2. Traza l√≠nea horizontal a la mitad (ojos)
3. Divide mitad inferior en 3 partes
4. Ubica rasgos seg√∫n tercios
5. Ajusta seg√∫n caracter√≠sticas individuales</div>

‚ö†Ô∏è <strong>Error m√°s com√∫n:</strong> Colocar ojos demasiado arriba. Los ojos est√°n en la MITAD del cr√°neo.

üìö <strong>Loomis (1956):</strong> "Drawing the Head and Hands" - m√©todo completo`,
                        related: ["cabeza", "construcci√≥n facial", "proporciones"]
                    }
                },
                {
                    id: "pies-estructura",
                    keywords: ["pie", "pies", "estructura", "tal√≥n", "dedos pies"],
                    question: "¬øC√≥mo dibujar pies estructurados?",
                    answer: {
                        title: "Estructura de los Pies",
                        content: `Los pies tienen una estructura similar a las manos pero m√°s simplificada.

<div class="message-section"><strong>ü¶∂ Estructura b√°sica:</strong>
‚Ä¢ <strong>Tal√≥n:</strong> Esfera o cilindro corto
‚Ä¢ <strong>Arco:</strong> Cu√±a triangular
‚Ä¢ <strong>Metatarso:</strong> Bloque rectangular
‚Ä¢ <strong>Dedos:</strong> 5 cilindros cortos</div>

<div class="message-section"><strong>üìê Proporciones del pie:</strong>
‚Ä¢ Longitud: aproximadamente 1 cabeza
‚Ä¢ Ancho: mitad de la longitud
‚Ä¢ El dedo gordo es el m√°s grande
‚Ä¢ Los otros dedos decrecen en tama√±o</div>

<div class="message-section"><strong>‚úèÔ∏è Proceso de construcci√≥n:</strong>
1. Dibuja el tal√≥n como esfera
2. Conecta con cu√±a del arco
3. Agrega bloque del metatarso
4. Marca los 5 dedos como cilindros
5. Define el tobillo como esfera</div>

üí° <strong>Tip:</strong> El pie tiene altura (no es plano). Piensa en una cu√±a desde el tal√≥n hasta los dedos.`,
                        related: ["anatom√≠a", "estructura", "proporciones"]
                    }
                }
            ],

            // M√ìDULO 3: FIGURA COMPLETA
            modulo3: [
                {
                    id: "proceso-capas",
                    keywords: ["capas", "proceso", "4 capas", "workflow", "pasos"],
                    question: "¬øCu√°l es el proceso por capas?",
                    answer: {
                        title: "Proceso de 4 Capas",
                        content: `El <strong>proceso por capas</strong> es un m√©todo sistem√°tico para figuras completas de 60-90 min, integrando todo lo aprendido.

<div class="message-section"><strong>üé® Las 4 capas secuenciales:</strong>

<strong>Capa 1: GESTO (10-15 min)</strong>
‚Ä¢ L√≠nea de acci√≥n
‚Ä¢ Formas b√°sicas y balance
‚Ä¢ Proporciones generales

<strong>Capa 2: ANATOM√çA (20-25 min)</strong>
‚Ä¢ 3 masas corporales
‚Ä¢ 6 grupos musculares
‚Ä¢ Estructura de manos y pies

<strong>Capa 3: REFINAMIENTO (15-20 min)</strong>
‚Ä¢ Contornos precisos
‚Ä¢ Correcci√≥n de proporciones
‚Ä¢ Detalles anat√≥micos

<strong>Capa 4: VOLUMEN (20-30 min)</strong>
‚Ä¢ 5 valores tonales
‚Ä¢ Sombras propias y proyectadas
‚Ä¢ Definici√≥n de volumen</div>

<div class="message-section"><strong>üéØ Por qu√© funciona:</strong>
‚Ä¢ Construyes de general ‚Üí espec√≠fico
‚Ä¢ Cada capa depende de la anterior
‚Ä¢ Reduces errores estructurales tempranos
‚Ä¢ Mantienes el gesto hasta el final</div>

‚ö†Ô∏è <strong>Error cr√≠tico:</strong> Empezar con detalles o sombreado SIN estructura s√≥lida = figuras desproporcionadas irreparables.

üí° <strong>Tip profesional:</strong> No borres las capas anteriores completamente. Las l√≠neas estructurales ayudan a mantener coherencia.`,
                        related: ["figura completa", "workflow", "metodolog√≠a"]
                    }
                },
                {
                    id: "valores-tonales",
                    keywords: ["valores", "tonales", "5 valores", "sombra", "luz", "sombreado"],
                    question: "¬øC√≥mo distribuir los valores tonales?",
                    answer: {
                        title: "5 Valores Tonales (Loomis)",
                        content: `Los <strong>valores tonales</strong> definen volumen y profundidad. El curso requiere el sistema de <strong>5 valores de Loomis</strong>.

<div class="message-section"><strong>üé® Los 5 valores (claro ‚Üí oscuro):</strong>
1. <strong>Luz Directa (blanco):</strong> Luz golpea directamente
2. <strong>Luz Reflejada:</strong> Zonas iluminadas indirectamente
3. <strong>Medio Tono:</strong> Transici√≥n luz-sombra (neutral)
4. <strong>Sombra Propia:</strong> Superficie SIN luz directa
5. <strong>Sombra Proyectada (negro):</strong> Sombra en otra superficie</div>

<div class="message-section"><strong>üìç Ubicaci√≥n (luz lateral derecha):</strong>
‚Ä¢ <strong>Luz directa:</strong> Lado derecho (torso, hombro, muslo)
‚Ä¢ <strong>Luz reflejada:</strong> Luz rebotada del entorno
‚Ä¢ <strong>Medio tono:</strong> Centro del torso (transici√≥n)
‚Ä¢ <strong>Sombra propia:</strong> Lado izquierdo (opuesto a luz)
‚Ä¢ <strong>Sombra proyectada:</strong> En suelo o superficie</div>

<div class="message-section"><strong>üí° T√©cnica (Lecci√≥n 3.2):</strong>
1. Identifica PRIMERO la fuente de luz
2. Marca qu√© superficies reciben luz directa
3. Aplica valores: claro ‚Üí oscuro
4. NO uses todos los valores en todo lado
5. Mant√©n consistencia: 1 fuente = 1 sistema</div>

<div class="message-section"><strong>‚ö†Ô∏è Errores:</strong>
‚Ä¢ Usar todos los valores uniformemente
‚Ä¢ Sombrear sin entender fuente de luz
‚Ä¢ Exceso de valores intermedios
‚Ä¢ Sombras inconsistentes</div>

üéØ <strong>Meta:</strong> Usar m√≠nimo 3 valores consistentemente. Si logras 5, excelente.`,
                        related: ["volumen", "sombreado", "luz"]
                    }
                },
                {
                    id: "proyecto-final",
                    keywords: ["proyecto", "final", "mercurio", "evaluaci√≥n", "100 puntos"],
                    question: "¬øQu√© requiere el proyecto final?",
                    answer: {
                        title: "Proyecto Final Integrador",
                        content: `El <strong>proyecto final</strong> es una figura del Mercurio del David (1/4) que integra TODO. Necesitas ‚â•60/100 puntos.

<div class="message-section"><strong>üìä Criterios (100 pts total):</strong>
‚Ä¢ <strong>Gesto y L√≠nea de Acci√≥n (20):</strong> Energ√≠a y direcci√≥n
‚Ä¢ <strong>Anatom√≠a Funcional (20):</strong> 3 masas + articulaciones + 6 grupos
‚Ä¢ <strong>Proporciones (20):</strong> Canon ~7.5 cabezas correcto
‚Ä¢ <strong>Volumen y Valores (20):</strong> M√≠nimo 3 valores consistentes
‚Ä¢ <strong>Detalles (10):</strong> Manos/pies estructurados
‚Ä¢ <strong>Composici√≥n (10):</strong> Uso del espacio, formato</div>

<div class="message-section"><strong>‚úèÔ∏è Proceso (90-120 min):</strong>
<strong>1. Observaci√≥n (5 min):</strong> Analiza sin dibujar
<strong>2. Capa 1 - Gesto (15 min):</strong> L√≠nea + formas
<strong>3. Capa 2 - Anatom√≠a (25 min):</strong> 3 masas + 6 grupos
<strong>4. Capa 3 - Refinamiento (20 min):</strong> Proporciones
<strong>5. Capa 4 - Volumen (30 min):</strong> Valores
<strong>6. Revisi√≥n (15 min):</strong> Ajustes</div>

<div class="message-section"><strong>üéØ Estrategia para ‚â•60 pts:</strong>
‚Ä¢ Estructura ANTES que detalles (40 pts posibles)
‚Ä¢ M√≠nimo 3 valores bien aplicados (15-18 pts)
‚Ä¢ Manos/pies estructurados b√°sicos (7-8 pts)
‚Ä¢ <strong>Total: 62-66 pts = APROBADO</strong></div>

<div class="message-section"><strong>‚úÖ Checklist pre-entrega:</strong>
‚òê ¬øL√≠nea de acci√≥n clara y din√°mica?
‚òê ¬ø3 masas visibles y volum√©tricas?
‚òê ¬øProporciones ~7.5 cabezas?
‚òê ¬øM√≠nimo 3 valores consistentes?
‚òê ¬øManos/pies con estructura?
‚òê ¬ø6 grupos musculares indicados?</div>`,
                        related: ["proceso capas", "evaluaci√≥n", "integraci√≥n"]
                    }
                },
                {
                    id: "bloqueo-frustracion",
                    keywords: ["bloqueado", "frustrado", "no puedo", "ansiedad", "miedo", "horrible"],
                    question: "Estoy bloqueado/frustrado, ¬øqu√© hago?",
                    answer: {
                        title: "Manejo de Bloqueos",
                        content: `Sentir frustraci√≥n es <strong>completamente normal</strong>. El 47% de tus compa√±eros report√≥ ansiedad similar al inicio.

<div class="message-section"><strong>üå± Perspectiva importante:</strong>
‚Ä¢ Los croquis NO buscan perfecci√≥n
‚Ä¢ El objetivo es <strong>capturar la esencia</strong>, no obras maestras
‚Ä¢ Cada ejercicio es pr√°ctica, NO evaluaci√≥n definitiva
‚Ä¢ El curso permite reintentos ilimitados</div>

<div class="message-section"><strong>‚úÖ Protocolo anti-bloqueo AHORA:</strong>
1. <strong>RESPIRA:</strong> Descanso 5-10 min (camina, toma agua)
2. <strong>REVISA objetivo:</strong> ¬øQu√© pide ESTA lecci√≥n? (no todo)
3. <strong>SIMPLIFICA:</strong> Enf√≥cate en UN elemento
4. <strong>INTENTA DE NUEVO:</strong> Hoja nueva, mente fresca
5. <strong>AJUSTA expectativas:</strong> 80% del objetivo es EXCELENTE</div>

üìä <strong>Dato motivacional:</strong> Estudiantes que completaron M√≥dulo 1 reportaron <strong>reducci√≥n del 65% en ansiedad</strong>.

<div class="message-section"><strong>üéØ Estrategia por m√≥dulo:</strong>
‚Ä¢ <strong>M√≥dulo 1:</strong> Haz 5 croquis de 30 seg (s√∫per r√°pidos)
‚Ä¢ <strong>M√≥dulo 2:</strong> Dibuja SOLO las 3 masas (10 min, sin detalles)
‚Ä¢ <strong>M√≥dulo 3:</strong> Revisa ejercicios anteriores (tu progreso real)</div>

<div class="message-section"><strong>‚ö†Ô∏è Cu√°ndo contactar al instructor:</strong>
‚Ä¢ Si frustraci√≥n persiste despu√©s de 2-3 intentos
‚Ä¢ Si necesitas feedback personalizado
‚Ä¢ Si hay dudas conceptuales profundas</div>

üåü <strong>Verdad importante:</strong> Est√°s recuperando habilidades tras 4 semestres. El progreso NO es lineal.`,
                        related: ["metacognici√≥n", "motivaci√≥n", "proceso"]
                    }
                },
                {
                    id: "figura-sin-volumen",
                    keywords: ["volumen", "plana", "plano", "sin profundidad", "bidimensional"],
                    question: "Mi figura no tiene volumen, ¬øqu√© hago?",
                    answer: {
                        title: "Crear Volumen en Figuras",
                        content: `Las figuras planas ocurren cuando dibujas <strong>contornos sin pensar en masa 3D</strong>.

<div class="message-section"><strong>üéØ Soluciones:</strong>

<strong>1. Usa las 3 masas SIEMPRE</strong>
‚Ä¢ Cabeza, torso, pelvis como VOL√öMENES
‚Ä¢ Piensa en cajas, cilindros, esferas
‚Ä¢ Define el √°ngulo y perspectiva de cada masa

<strong>2. Aplica valores tonales</strong>
‚Ä¢ M√≠nimo 3 valores (luz, medio, sombra)
‚Ä¢ Define de d√≥nde viene la luz
‚Ä¢ Sombra propia crea sensaci√≥n de volumen

<strong>3. Marca las articulaciones</strong>
‚Ä¢ Hombros, codos, mu√±ecas, caderas, rodillas
‚Ä¢ Son esferas que conectan cilindros
‚Ä¢ Dan sensaci√≥n de estructura 3D</div>

<div class="message-section"><strong>‚úèÔ∏è Ejercicio correctivo:</strong>
1. Toma una figura que hiciste "plana"
2. Dib√∫jala de nuevo pensando SOLO en vol√∫menes
3. Agrega 3 valores tonales
4. Compara: nota la diferencia</div>

üí° <strong>Tip clave:</strong> Antes de dibujar l√≠neas, preg√∫ntate: "¬øQu√© forma 3D es esto?"`,
                        related: ["3 masas", "valores tonales", "estructura"]
                    }
                }
            ],

            // SISTEMA LMS
            sistema: [
                {
                    id: "progreso-sistema",
                    keywords: ["progreso", "avance", "seguimiento", "completado", "porcentaje"],
                    question: "¬øC√≥mo funciona el sistema de progreso?",
                    answer: {
                        title: "Sistema de Progreso",
                        content: `El LMS rastrea autom√°ticamente tu avance usando <strong>localStorage</strong> (guardado en tu navegador).

<div class="message-section"><strong>üìä Qu√© se registra:</strong>
‚Ä¢ Lecciones visitadas/completadas
‚Ä¢ Evaluaciones formativas realizadas
‚Ä¢ Ejercicios entregados
‚Ä¢ Tiempo dedicado por m√≥dulo
‚Ä¢ Porcentaje de avance general</div>

<div class="message-section"><strong>üéØ C√≥mo completar una lecci√≥n:</strong>
1. Lee todo el contenido te√≥rico
2. Completa la evaluaci√≥n formativa (si tiene)
3. Realiza los ejercicios pr√°cticos
4. Marca la lecci√≥n como completada (bot√≥n verde)
5. El sistema actualiza tu progreso autom√°ticamente</div>

<div class="message-section"><strong>üí° Ventajas:</strong>
‚Ä¢ <strong>Autom√°tico:</strong> No necesitas hacer nada manual
‚Ä¢ <strong>Visual:</strong> Barras de progreso en tiempo real
‚Ä¢ <strong>Persistente:</strong> Se guarda en tu navegador
‚Ä¢ <strong>Dashboard:</strong> Ve tu avance general y por m√≥dulo</div>

‚ö†Ô∏è <strong>Importante:</strong> El progreso se guarda en TU navegador. Si cambias de dispositivo o borras cach√©, se reinicia.`,
                        related: ["dashboard", "evaluaciones", "lecciones"]
                    }
                },
                {
                    id: "dashboard-personal",
                    keywords: ["dashboard", "panel", "estad√≠sticas", "mi progreso", "resumen"],
                    question: "¬øD√≥nde veo mi dashboard personal?",
                    answer: {
                        title: "Dashboard Personal",
                        content: `Tu <strong>dashboard personal</strong> est√° en la p√°gina principal del LMS (index.html o home).

<div class="message-section"><strong>üìà Informaci√≥n disponible:</strong>
‚Ä¢ <strong>Progreso general:</strong> % del curso completado
‚Ä¢ <strong>Progreso por m√≥dulo:</strong> Desglose M1, M2, M3
‚Ä¢ <strong>Lecciones completadas:</strong> X de 10 lecciones
‚Ä¢ <strong>Evaluaciones realizadas:</strong> Aprobadas/pendientes
‚Ä¢ <strong>Ejercicios entregados:</strong> Estado de tus dibujos
‚Ä¢ <strong>Tiempo estimado restante:</strong> Horas para completar</div>

<div class="message-section"><strong>üé® Visualizaciones:</strong>
‚Ä¢ Barras de progreso por m√≥dulo
‚Ä¢ √çconos de estado (‚úÖ completado, ‚è≥ en progreso, ‚≠ï pendiente)
‚Ä¢ Gr√°fico circular de avance general
‚Ä¢ Timeline de actividades recientes</div>

<div class="message-section"><strong>üí° C√≥mo acceder:</strong>
‚Ä¢ Desde cualquier p√°gina: click en "Inicio" o logo UAH
‚Ä¢ El dashboard se actualiza en tiempo real
‚Ä¢ Puedes volver cuando quieras para ver tu progreso</div>

üéØ <strong>Tip:</strong> Revisa tu dashboard antes de cada sesi√≥n de estudio para planificar qu√© hacer.`,
                        related: ["progreso", "lecciones", "evaluaciones"]
                    }
                },
                {
                    id: "volver-lecciones",
                    keywords: ["volver", "regresar", "anterior", "repetir", "revisar"],
                    question: "¬øPuedo volver a lecciones anteriores?",
                    answer: {
                        title: "Navegaci√≥n Flexible",
                        content: `<strong>S√ç, puedes volver a cualquier lecci√≥n</strong> cuando quieras. El LMS es completamente flexible.

<div class="message-section"><strong>‚úÖ C√≥mo navegar:</strong>

<strong>Opci√≥n 1: Sidebar lateral</strong>
‚Ä¢ En cada m√≥dulo, el men√∫ izquierdo muestra todas las lecciones
‚Ä¢ Click en cualquier lecci√≥n para acceder
‚Ä¢ Las completadas tienen √≠cono ‚úÖ

<strong>Opci√≥n 2: Breadcrumbs superiores</strong>
‚Ä¢ En la parte superior: Inicio > M√≥dulo X > Lecci√≥n Y
‚Ä¢ Click en cualquier nivel para regresar

<strong>Opci√≥n 3: Dashboard</strong>
‚Ä¢ Desde el dashboard, click en el m√≥dulo
‚Ä¢ Luego selecciona la lecci√≥n espec√≠fica</div>

<div class="message-section"><strong>üéØ Usos comunes:</strong>
‚Ä¢ Repasar conceptos antes de evaluaciones
‚Ä¢ Revisar ejemplos para ejercicios actuales
‚Ä¢ Refrescar memoria antes del proyecto final
‚Ä¢ Consultar referencias bibliogr√°ficas</div>

üí° <strong>Sin restricciones:</strong> Puedes avanzar y retroceder libremente. No hay orden obligatorio (aunque se recomienda seguir la secuencia).`,
                        related: ["navegaci√≥n", "lecciones", "m√≥dulos"]
                    }
                },
                {
                    id: "subir-ejercicios",
                    keywords: ["subir", "entregar", "ejercicios", "upload", "enviar", "cargar"],
                    question: "¬øC√≥mo subo mis ejercicios?",
                    answer: {
                        title: "Entrega de Ejercicios",
                        content: `El LMS usa <strong>Google Forms embebidos</strong> para recibir tus ejercicios pr√°cticos.

<div class="message-section"><strong>üì§ Proceso de entrega:</strong>

<strong>Paso 1: Completa tu ejercicio</strong>
‚Ä¢ Dibuja seg√∫n las especificaciones de la lecci√≥n
‚Ä¢ Fotograf√≠a tu trabajo con buena luz
‚Ä¢ Aseg√∫rate que la imagen sea clara

<strong>Paso 2: Accede al formulario</strong>
‚Ä¢ En cada lecci√≥n pr√°ctica hay un bot√≥n "Entregar Ejercicio"
‚Ä¢ Click para abrir el Google Form embebido

<strong>Paso 3: Completa el formulario</strong>
‚Ä¢ Tu nombre y correo (autocompletado si est√°s logueado)
‚Ä¢ M√≥dulo y lecci√≥n correspondiente
‚Ä¢ Adjunta la imagen de tu dibujo
‚Ä¢ Comentarios opcionales (dudas, proceso, etc.)

<strong>Paso 4: Env√≠a</strong>
‚Ä¢ Click en "Enviar"
‚Ä¢ Recibir√°s confirmaci√≥n autom√°tica
‚Ä¢ El ejercicio queda registrado para evaluaci√≥n</div>

<div class="message-section"><strong>üì∏ Tips para fotografiar:</strong>
‚Ä¢ Luz natural (cerca de ventana)
‚Ä¢ Fondo neutro (blanco o gris)
‚Ä¢ Dibujo centrado y completo
‚Ä¢ Sin sombras que distorsionen
‚Ä¢ Formato JPG o PNG (< 5MB)</div>

‚ö†Ô∏è <strong>Importante:</strong> Guarda copia de tus ejercicios. Arma un portafolio digital.`,
                        related: ["evaluaci√≥n", "ejercicios", "google forms"]
                    }
                },
                {
                    id: "materiales-necesarios",
                    keywords: ["materiales", "necesito", "l√°piz", "papel", "herramientas"],
                    question: "¬øQu√© materiales necesito?",
                    answer: {
                        title: "Materiales del Curso",
                        content: `El curso requiere <strong>materiales b√°sicos de dibujo</strong>. No necesitas nada costoso.

<div class="message-section"><strong>‚úèÔ∏è Materiales esenciales:</strong>

<strong>Para dibujar:</strong>
‚Ä¢ L√°pices grafito: HB, 2B, 4B (m√≠nimo)
‚Ä¢ Goma de borrar (blanca y amasable)
‚Ä¢ Sacapuntas de calidad
‚Ä¢ Papel de dibujo (90-120g) tama√±o carta o A4

<strong>Para medir:</strong>
‚Ä¢ L√°piz para m√©todo de medici√≥n
‚Ä¢ Regla (opcional, para verificar proporciones)

<strong>Para documentar:</strong>
‚Ä¢ C√°mara de celular (para fotografiar ejercicios)
‚Ä¢ Buena iluminaci√≥n</div>

<div class="message-section"><strong>üì¶ Cantidad recomendada:</strong>
‚Ä¢ 50-100 hojas de papel
‚Ä¢ Set de 3-5 l√°pices de diferentes durezas
‚Ä¢ El curso requiere ~23 dibujos totales</div>

<div class="message-section"><strong>üí∞ Presupuesto estimado:</strong>
‚Ä¢ Papel: $3.000-5.000 CLP
‚Ä¢ L√°pices: $2.000-4.000 CLP
‚Ä¢ Gomas: $1.000-2.000 CLP
‚Ä¢ <strong>Total: ~$6.000-11.000 CLP</strong></div>

<div class="message-section"><strong>‚ö†Ô∏è NO necesitas:</strong>
‚Ä¢ Tableta gr√°fica (es anal√≥gico)
‚Ä¢ Papel especial costoso
‚Ä¢ Set de 50 l√°pices profesionales
‚Ä¢ Carboncillo u otros medios</div>

üí° <strong>Tip:</strong> Usa papel econ√≥mico para croquis r√°pidos (2-5 min) y reserva el mejor para ejercicios largos.`,
                        related: ["ejercicios", "pr√°cticas", "requisitos"]
                    }
                },
                {
                    id: "referencias-fotograficas",
                    keywords: ["referencias", "fotos", "im√°genes", "fotograf√≠as", "visual"],
                    question: "¬øC√≥mo uso las referencias fotogr√°ficas?",
                    answer: {
                        title: "Uso de Referencias",
                        content: `El curso incluye <strong>26 referencias fotogr√°ficas</strong> espec√≠ficas para cada ejercicio.

<div class="message-section"><strong>üì∏ D√≥nde est√°n:</strong>
‚Ä¢ Embebidas en cada lecci√≥n
‚Ä¢ Carpeta "referencias/" en el repositorio
‚Ä¢ Organizadas por m√≥dulo y lecci√≥n
‚Ä¢ Nombres descriptivos (ej: ref1_figura_pie.jpg)</div>

<div class="message-section"><strong>üéØ C√≥mo usarlas:</strong>

<strong>Opci√≥n 1: En pantalla</strong>
‚Ä¢ Abre la referencia en tu dispositivo
‚Ä¢ Observa antes de dibujar (NO calques mentalmente)
‚Ä¢ Usa para medir proporciones con el l√°piz
‚Ä¢ Vuelve a mirar frecuentemente

<strong>Opci√≥n 2: Impresa (recomendado)</strong>
‚Ä¢ Imprime las referencias que usar√°s
‚Ä¢ Coloca junto a tu papel
‚Ä¢ Facilita medici√≥n con el m√©todo del l√°piz
‚Ä¢ Evita cansancio visual de pantalla</div>

<div class="message-section"><strong>üí° Mejores pr√°cticas:</strong>
‚Ä¢ <strong>NO copies pixel por pixel:</strong> Captura la esencia
‚Ä¢ <strong>Observa 30-60 seg ANTES de dibujar</strong>
‚Ä¢ Identifica: l√≠nea de acci√≥n, proporciones, balance
‚Ä¢ Usa la referencia como gu√≠a, no como imagen a calcar</div>

<div class="message-section"><strong>‚ö†Ô∏è Error com√∫n:</strong>
Copiar la foto exactamente = pierdes el prop√≥sito pedag√≥gico. El objetivo es entrenar tu observaci√≥n, no reproducir.`,
                        related: ["ejercicios", "observaci√≥n", "pr√°ctica"]
                    }
                },
                {
                    id: "videos-explicativos",
                    keywords: ["videos", "v√≠deos", "explicativos", "tutoriales", "multimedia"],
                    question: "¬øD√≥nde est√°n los videos explicativos?",
                    answer: {
                        title: "Videos del Curso",
                        content: `El curso incluye <strong>4 videos explicativos</strong> (10 min totales) para demostrar procesos.

<div class="message-section"><strong>üé¨ Videos disponibles:</strong>

<strong>Video 1: Croquis r√°pidos (2.5 min)</strong>
‚Ä¢ Demostraci√≥n en tiempo real de croquis de 2 min
‚Ä¢ Explicaci√≥n de l√≠nea de acci√≥n
‚Ä¢ Ubicaci√≥n: Lecci√≥n 1.1

<strong>Video 2: Medici√≥n con l√°piz (2 min)</strong>
‚Ä¢ Paso a paso del m√©todo del l√°piz
‚Ä¢ Errores comunes y c√≥mo evitarlos
‚Ä¢ Ubicaci√≥n: Lecci√≥n 1.2

<strong>Video 3: Estructura de manos (3 min)</strong>
‚Ä¢ Construcci√≥n 3D de la mano
‚Ä¢ Falanges y articulaciones
‚Ä¢ Ubicaci√≥n: Lecci√≥n 2.3

<strong>Video 4: Aplicaci√≥n de valores (2.5 min)</strong>
‚Ä¢ Demostraci√≥n de los 5 valores tonales
‚Ä¢ Identificaci√≥n de fuente de luz
‚Ä¢ Ubicaci√≥n: Lecci√≥n 3.2</div>

<div class="message-section"><strong>üìç C√≥mo acceder:</strong>
‚Ä¢ Embebidos directamente en las lecciones
‚Ä¢ Player de video en la secci√≥n multimedia
‚Ä¢ Puedes pausar/retroceder cuando quieras
‚Ä¢ Subt√≠tulos disponibles</div>

üí° <strong>Tip:</strong> Ve los videos ANTES de hacer el ejercicio, luego vuelve a verlos DURANTE si tienes dudas.`,
                        related: ["lecciones", "multimedia", "tutoriales"]
                    }
                },
                {
                    id: "descargar-rubricas",
                    keywords: ["r√∫bricas", "rubricas", "criterios", "evaluaci√≥n", "PDF", "descargar"],
                    question: "¬øPuedo descargar las r√∫bricas?",
                    answer: {
                        title: "R√∫bricas de Evaluaci√≥n",
                        content: `<strong>S√ç, todas las r√∫bricas est√°n disponibles en PDF</strong> para descargar y consultar offline.

<div class="message-section"><strong>üìÑ R√∫bricas disponibles:</strong>

<strong>Por m√≥dulo:</strong>
‚Ä¢ R√∫brica M√≥dulo 1 (Observaci√≥n y Gesto)
‚Ä¢ R√∫brica M√≥dulo 2 (Anatom√≠a Funcional)
‚Ä¢ R√∫brica M√≥dulo 3 (Figura Completa)

<strong>Proyecto final:</strong>
‚Ä¢ R√∫brica detallada del proyecto integrador
‚Ä¢ 100 puntos desglosados por criterio
‚Ä¢ Descriptores de logro por nivel</div>

<div class="message-section"><strong>üì• C√≥mo descargar:</strong>
1. Ve a la lecci√≥n correspondiente
2. Busca la secci√≥n "Evaluaci√≥n"
3. Click en bot√≥n "Descargar R√∫brica (PDF)"
4. Se abre en nueva pesta√±a
5. Guarda en tu dispositivo (Ctrl/Cmd + S)</div>

<div class="message-section"><strong>üí° Uso recomendado:</strong>
‚Ä¢ Descarga ANTES de hacer ejercicios
‚Ä¢ Imprime y ten junto al papel mientras dibujas
‚Ä¢ Usa como checklist durante el trabajo
‚Ä¢ Autoeval√∫ate antes de entregar
‚Ä¢ Revisa criterios espec√≠ficos si pierdes puntos</div>

üéØ <strong>Ubicaciones:</strong>
‚Ä¢ En cada m√≥dulo: secci√≥n "Criterios de Evaluaci√≥n"
‚Ä¢ Dashboard: bot√≥n "Todas las R√∫bricas"
‚Ä¢ Carpeta "docs/" en el repositorio GitHub`,
                        related: ["evaluaci√≥n", "criterios", "proyecto final"]
                    }
                }
            ],

            // PREGUNTAS GENERALES
            general: [
                {
                    id: "tiempo-leccion",
                    keywords: ["tiempo", "dedicar", "duraci√≥n", "horas", "cu√°nto"],
                    question: "¬øCu√°nto tiempo debo dedicar por lecci√≥n?",
                    answer: {
                        title: "Tiempo por Lecci√≥n",
                        content: `El curso est√° dise√±ado para <strong>12 d√≠as intensivos</strong>. Cada lecci√≥n tiene tiempos estimados.

<div class="message-section"><strong>‚è±Ô∏è Distribuci√≥n general:</strong>

<strong>M√≥dulo 1 (3-4 d√≠as):</strong>
‚Ä¢ Lecci√≥n 1.1: 2-3 horas
‚Ä¢ Lecci√≥n 1.2: 2-3 horas
‚Ä¢ Lecci√≥n 1.3: 2-3 horas
‚Ä¢ Evaluaci√≥n M1: 30 min

<strong>M√≥dulo 2 (4-5 d√≠as):</strong>
‚Ä¢ Lecci√≥n 2.1: 2-3 horas
‚Ä¢ Lecci√≥n 2.2: 3-4 horas
‚Ä¢ Lecci√≥n 2.3: 3-4 horas
‚Ä¢ Lecci√≥n 2.4: 2-3 horas
‚Ä¢ Evaluaci√≥n M2: 30 min

<strong>M√≥dulo 3 (4-5 d√≠as):</strong>
‚Ä¢ Lecci√≥n 3.1: 3-4 horas
‚Ä¢ Lecci√≥n 3.2: 3-4 horas
‚Ä¢ Lecci√≥n 3.3 (Proyecto): 6-8 horas
‚Ä¢ Evaluaci√≥n M3: 30 min</div>

<div class="message-section"><strong>üìä Desglose tiempo/lecci√≥n:</strong>
‚Ä¢ <strong>Teor√≠a:</strong> 20% (lectura, videos)
‚Ä¢ <strong>Pr√°ctica:</strong> 80% (dibujar ejercicios)
‚Ä¢ Cada lecci√≥n = m√∫ltiples ejercicios</div>

üí° <strong>Recomendaci√≥n:</strong> 2-4 horas diarias. Distribuye seg√∫n tu disponibilidad real.`,
                        related: ["planificaci√≥n", "organizaci√≥n", "curso"]
                    }
                },
                {
                    id: "orden-ejercicios",
                    keywords: ["orden", "secuencia", "primero", "qu√© hacer", "empezar"],
                    question: "¬øEn qu√© orden hago los ejercicios?",
                    answer: {
                        title: "Secuencia de Ejercicios",
                        content: `Sigue el <strong>orden secuencial del curso</strong>. Cada lecci√≥n prepara para la siguiente.

<div class="message-section"><strong>üìö Secuencia recomendada:</strong>

<strong>1. Evaluaci√≥n Diagn√≥stica (PRIMERO)</strong>
‚Ä¢ Antes de empezar cualquier m√≥dulo
‚Ä¢ Identifica tus fortalezas/debilidades
‚Ä¢ Personaliza tu ruta de aprendizaje

<strong>2. M√≥dulo 1 ‚Üí 2 ‚Üí 3 (en orden)</strong>
‚Ä¢ NO saltes m√≥dulos
‚Ä¢ Cada uno construye sobre el anterior
‚Ä¢ M1 = fundamentos, M2 = estructura, M3 = integraci√≥n

<strong>3. Dentro de cada m√≥dulo: orden num√©rico</strong>
‚Ä¢ Lecci√≥n 1.1 ‚Üí 1.2 ‚Üí 1.3
‚Ä¢ Completa teor√≠a ANTES de pr√°ctica
‚Ä¢ Haz evaluaci√≥n formativa al terminar lecciones</div>

<div class="message-section"><strong>‚ö†Ô∏è NO recomendado:</strong>
‚Ä¢ Saltar a M√≥dulo 3 directamente
‚Ä¢ Hacer solo teor√≠a sin pr√°ctica
‚Ä¢ Omitir evaluaciones formativas
‚Ä¢ Hacer ejercicios fuera de secuencia</div>

<div class="message-section"><strong>üí° Excepci√≥n v√°lida:</strong>
Puedes REVISAR lecciones anteriores cuando necesites repasar conceptos. Pero para APRENDER nuevo contenido, sigue el orden.</div>

üéØ <strong>Raz√≥n pedag√≥gica:</strong> El curso usa <strong>pr√°ctica intercalada</strong> y <strong>espaciamiento</strong>. Romper el orden reduce efectividad.`,
                        related: ["planificaci√≥n", "metodolog√≠a", "curso"]
                    }
                },
                {
                    id: "referencias-digitales",
                    keywords: ["referencias digitales", "online", "internet", "pinterest", "google"],
                    question: "¬øPuedo usar referencias digitales?",
                    answer: {
                        title: "Referencias Digitales",
                        content: `<strong>S√ç, pero con condiciones</strong>. El curso provee referencias espec√≠ficas, pero puedes usar adicionales.

<div class="message-section"><strong>‚úÖ Permitido:</strong>
‚Ä¢ Usar las 26 referencias oficiales del curso
‚Ä¢ Complementar con referencias adicionales similares
‚Ä¢ Buscar √°ngulos/poses que te interesen
‚Ä¢ Usar bancos de im√°genes (Pexels, Unsplash)
‚Ä¢ Line of Action (quickposes.com)</div>

<div class="message-section"><strong>‚ö†Ô∏è NO permitido para evaluaciones:</strong>
‚Ä¢ Usar referencias completamente diferentes
‚Ä¢ Poses que no permitan aplicar los conceptos
‚Ä¢ Im√°genes de baja calidad/distorsionadas
‚Ä¢ Dibujos de otros artistas (debe ser foto real)</div>

<div class="message-section"><strong>üí° Mejores pr√°cticas:</strong>
‚Ä¢ Prioriza las referencias oficiales para ejercicios evaluados
‚Ä¢ Usa referencias adicionales para PR√ÅCTICA EXTRA
‚Ä¢ Aseg√∫rate que la pose permita practicar el concepto
‚Ä¢ Evita referencias con ropa compleja (dificulta ver anatom√≠a)</div>

<div class="message-section"><strong>üéØ Para proyecto final:</strong>
‚Ä¢ DEBES usar la referencia oficial (Mercurio del David)
‚Ä¢ Es parte de los requisitos de evaluaci√≥n
‚Ä¢ No puedes sustituirla por otra escultura</div>

üìö <strong>Recursos recomendados:</strong>
‚Ä¢ quickposes.com (poses cronometradas)
‚Ä¢ line-of-action.com
‚Ä¢ anatomy360.info`,
                        related: ["ejercicios", "pr√°ctica", "recursos"]
                    }
                },
                {
                    id: "papel-especifico",
                    keywords: ["papel", "tipo", "espec√≠fico", "cu√°l", "gramaje"],
                    question: "¬øNecesito papel espec√≠fico?",
                    answer: {
                        title: "Tipo de Papel",
                        content: `NO necesitas papel costoso. <strong>Papel b√°sico de dibujo</strong> es suficiente.

<div class="message-section"><strong>üìÑ Especificaciones recomendadas:</strong>

<strong>Para croquis r√°pidos (2-5 min):</strong>
‚Ä¢ Papel bond/fotocopia (75-80g)
‚Ä¢ Econ√≥mico, permite practicar sin miedo
‚Ä¢ Tama√±o carta (21.5 x 28 cm) o A4

<strong>Para ejercicios largos (15+ min):</strong>
‚Ä¢ Papel de dibujo (90-120g)
‚Ä¢ Textura suave (no muy rugosa)
‚Ä¢ Blanco o marfil
‚Ä¢ Tama√±o carta o A4</div>

<div class="message-section"><strong>üí∞ Opciones por presupuesto:</strong>

<strong>Econ√≥mico:</strong>
‚Ä¢ Block de 50 hojas papel bond ($2.000)
‚Ä¢ Block de 20 hojas dibujo 90g ($3.000)

<strong>Medio:</strong>
‚Ä¢ Block Canson 90g ($5.000-7.000)
‚Ä¢ Buen equilibrio calidad/precio

<strong>Premium (opcional):</strong>
‚Ä¢ Strathmore 400 series ($10.000+)
‚Ä¢ Solo si ya tienes experiencia y quieres invertir</div>

<div class="message-section"><strong>‚ö†Ô∏è NO necesitas:</strong>
‚Ä¢ Papel acuarela (muy caro y texturado)
‚Ä¢ Papel especial para carboncillo
‚Ä¢ Papel de marcas premium importadas
‚Ä¢ Gramaje > 120g</div>

üí° <strong>Tip:</strong> Compra papel econ√≥mico para practicar y papel medio para ejercicios que entregar√°s.`,
                        related: ["materiales", "ejercicios", "pr√°ctica"]
                    }
                },
                {
                    id: "evaluaciones-formativas",
                    keywords: ["evaluaciones formativas", "autoevaluaci√≥n", "quiz", "test"],
                    question: "¬øC√≥mo funcionan las evaluaciones formativas?",
                    answer: {
                        title: "Evaluaciones Formativas",
                        content: `Las <strong>evaluaciones formativas</strong> son quizzes de 3 preguntas al final de cada m√≥dulo. NO califican, solo verifican comprensi√≥n.

<div class="message-section"><strong>üìù Caracter√≠sticas:</strong>
‚Ä¢ <strong>10 evaluaciones totales</strong> (aprox. 1 por lecci√≥n)
‚Ä¢ <strong>3 preguntas cada una</strong>
‚Ä¢ <strong>M√∫ltiple opci√≥n</strong> (selecciona la correcta)
‚Ä¢ <strong>Feedback inmediato</strong> (sabes si acertaste)
‚Ä¢ <strong>Reintentos ilimitados</strong></div>

<div class="message-section"><strong>üéØ Prop√≥sito:</strong>
‚Ä¢ Verificar que entendiste conceptos clave
‚Ä¢ Identificar √°reas que necesitas repasar
‚Ä¢ Reforzar aprendizaje mediante retrieval practice
‚Ä¢ NO afectan tu calificaci√≥n final</div>

<div class="message-section"><strong>‚úÖ C√≥mo funcionan:</strong>
1. Completas la lecci√≥n (teor√≠a + pr√°ctica)
2. Click en "Evaluaci√≥n Formativa"
3. Respondes las 3 preguntas
4. Recibes feedback inmediato
5. Si fallas, puedes volver a intentar
6. Se guarda tu mejor intento</div>

<div class="message-section"><strong>üí° Tip de aprendizaje:</strong>
‚Ä¢ Si fallas una pregunta, vuelve a la lecci√≥n
‚Ä¢ Lee espec√≠ficamente esa secci√≥n
‚Ä¢ Intenta de nuevo
‚Ä¢ Este proceso refuerza la memoria</div>

üéì <strong>Meta:</strong> 100% correcto en cada evaluaci√≥n formativa antes de avanzar.`,
                        related: ["evaluaci√≥n", "aprendizaje", "lecciones"]
                    }
                },
                {
                    id: "intentos-evaluacion",
                    keywords: ["intentos", "reintentar", "volver", "repetir evaluaci√≥n"],
                    question: "¬øCu√°ntas veces puedo intentar una evaluaci√≥n?",
                    answer: {
                        title: "Reintentos de Evaluaciones",
                        content: `Tienes <strong>REINTENTOS ILIMITADOS</strong> en las evaluaciones formativas. El objetivo es aprender, no castigar errores.

<div class="message-section"><strong>üìä Sistema de reintentos:</strong>

<strong>Evaluaciones formativas (10 quizzes):</strong>
‚Ä¢ <strong>Intentos:</strong> ILIMITADOS
‚Ä¢ <strong>Prop√≥sito:</strong> Verificar comprensi√≥n
‚Ä¢ <strong>Penalizaci√≥n por error:</strong> NINGUNA
‚Ä¢ Se guarda tu mejor intento

<strong>Proyecto final:</strong>
‚Ä¢ <strong>Intentos:</strong> 1 entrega oficial
‚Ä¢ <strong>Retroalimentaci√≥n:</strong> Del instructor
‚Ä¢ Si desapruebas (< 60 pts), puedes mejorar y re-entregar
‚Ä¢ Tiempo adicional seg√∫n pol√≠ticas del curso</div>

<div class="message-section"><strong>üí° Filosof√≠a pedag√≥gica:</strong>
El error es parte del aprendizaje. Los reintentos ilimitados te permiten:
‚Ä¢ Aprender de tus errores sin presi√≥n
‚Ä¢ Revisar contenido que no qued√≥ claro
‚Ä¢ Alcanzar dominio real, no solo "pasar"</div>

<div class="message-section"><strong>‚úÖ Estrategia recomendada:</strong>
1. Intenta la evaluaci√≥n despu√©s de estudiar
2. Si fallas, anota qu√© conceptos no entendiste
3. Vuelve a esa secci√≥n de la lecci√≥n
4. Relee/revisa con atenci√≥n
5. Intenta de nuevo
6. Repite hasta dominar</div>

üéØ <strong>Meta:</strong> 100% en todas las evaluaciones formativas antes de avanzar al siguiente m√≥dulo.`,
                        related: ["evaluaciones", "aprendizaje", "proceso"]
                    }
                },
                {
                    id: "aprobar-modulo",
                    keywords: ["aprobar", "pasar", "completar m√≥dulo", "avanzar"],
                    question: "¬øCu√°ndo s√© si aprob√© el m√≥dulo?",
                    answer: {
                        title: "Aprobaci√≥n de M√≥dulos",
                        content: `Cada m√≥dulo se considera <strong>aprobado</strong> cuando completas TODOS sus componentes.

<div class="message-section"><strong>‚úÖ Requisitos para aprobar un m√≥dulo:</strong>

<strong>1. Completar todas las lecciones:</strong>
‚Ä¢ Leer todo el contenido te√≥rico
‚Ä¢ Ver los videos explicativos
‚Ä¢ Marcar como "Completada" cada lecci√≥n

<strong>2. Realizar todos los ejercicios pr√°cticos:</strong>
‚Ä¢ Hacer los dibujos requeridos
‚Ä¢ Fotografiar y subir cada ejercicio
‚Ä¢ Entregar v√≠a Google Forms

<strong>3. Aprobar la evaluaci√≥n formativa:</strong>
‚Ä¢ Responder correctamente las 3 preguntas
‚Ä¢ 100% de aciertos (reintentos ilimitados)

<strong>4. Sistema actualiza autom√°ticamente:</strong>
‚Ä¢ Cuando cumples los 3 anteriores
‚Ä¢ El m√≥dulo se marca como ‚úÖ COMPLETADO
‚Ä¢ Tu dashboard refleja el avance</div>

<div class="message-section"><strong>üìä Indicadores visuales:</strong>
‚Ä¢ <strong>Barra de progreso:</strong> 100% en ese m√≥dulo
‚Ä¢ <strong>Badge verde:</strong> M√≥dulo completado
‚Ä¢ <strong>Icono de candado:</strong> Se desbloquea siguiente m√≥dulo (si lo configuraste as√≠)
‚Ä¢ <strong>Dashboard:</strong> Actualizaci√≥n en tiempo real</div>

<div class="message-section"><strong>‚ö†Ô∏è Importante:</strong>
‚Ä¢ Aprobar m√≥dulos NO es lo mismo que la nota final
‚Ä¢ La nota final depende del PROYECTO FINAL (Lecci√≥n 3.3)
‚Ä¢ Los m√≥dulos 1 y 2 son formativos (pr√°ctica)
‚Ä¢ M√≥dulo 3 incluye evaluaci√≥n sumativa (calificaci√≥n)</div>

üéØ <strong>Nota final del curso:</strong> Basada principalmente en el proyecto final (100 puntos). Necesitas ‚â•60 pts para aprobar el curso completo.`,
                        related: ["evaluaci√≥n", "progreso", "proyecto final"]
                    }
                },
                {
                    id: "porcentaje-aprobar",
                    keywords: ["porcentaje", "nota", "calificaci√≥n", "60", "aprobar curso"],
                    question: "¬øQu√© porcentaje necesito para aprobar?",
                    answer: {
                        title: "Requisitos de Aprobaci√≥n",
                        content: `Necesitas <strong>‚â•60 puntos de 100</strong> en el proyecto final para aprobar el curso.

<div class="message-section"><strong>üìä Sistema de calificaci√≥n:</strong>

<strong>Evaluaciones formativas (M1 y M2):</strong>
‚Ä¢ NO califican num√©ricamente
‚Ä¢ Son formativas (solo verifican comprensi√≥n)
‚Ä¢ Pero DEBES aprobarlas (100% correcto) para avanzar

<strong>Proyecto Final (M3, Lecci√≥n 3.3):</strong>
‚Ä¢ <strong>Calificaci√≥n: 100 puntos totales</strong>
‚Ä¢ <strong>Aprobaci√≥n: ‚â•60 puntos</strong>
‚Ä¢ Desglose:
  - Gesto y L√≠nea de Acci√≥n: 20 pts
  - Anatom√≠a Funcional: 20 pts
  - Proporciones: 20 pts
  - Volumen y Valores: 20 pts
  - Detalles: 10 pts
  - Composici√≥n: 10 pts</div>

<div class="message-section"><strong>üéØ Escala de calificaci√≥n:</strong>
‚Ä¢ <strong>90-100 pts:</strong> Excelente (dominio avanzado)
‚Ä¢ <strong>75-89 pts:</strong> Bueno (logro s√≥lido)
‚Ä¢ <strong>60-74 pts:</strong> Suficiente (aprobado)
‚Ä¢ <strong>< 60 pts:</strong> Insuficiente (reprobado)</div>

<div class="message-section"><strong>üí° Estrategia para ‚â•60 pts:</strong>
‚Ä¢ Enf√≥cate en estructura (40 pts: gesto + anatom√≠a + proporciones)
‚Ä¢ Aplica m√≠nimo 3 valores consistentes (15-18 pts en volumen)
‚Ä¢ Manos/pies estructurados b√°sicos (7-8 pts)
‚Ä¢ <strong>Total estimado: 62-66 pts = APROBADO</strong></div>

<div class="message-section"><strong>üîÑ Si desapruebas:</strong>
‚Ä¢ Recibes retroalimentaci√≥n espec√≠fica del instructor
‚Ä¢ Puedes mejorar el dibujo seg√∫n feedback
‚Ä¢ Re-entrega con tiempo adicional
‚Ä¢ Se eval√∫a la nueva versi√≥n</div>`,
                        related: ["proyecto final", "evaluaci√≥n", "criterios"]
                    }
                },
                {
                    id: "formato-proyecto",
                    keywords: ["formato", "tama√±o", "proyecto final", "digital", "f√≠sico"],
                    question: "¬øQu√© formato debe tener el proyecto final?",
                    answer: {
                        title: "Formato del Proyecto Final",
                        content: `El proyecto final debe ser <strong>dibujo anal√≥gico en papel</strong>, no digital.

<div class="message-section"><strong>üìè Especificaciones t√©cnicas:</strong>

<strong>Soporte:</strong>
‚Ä¢ Papel de dibujo 90-120g
‚Ä¢ Tama√±o: m√≠nimo Carta (21.5x28 cm), m√°ximo A3
‚Ä¢ Blanco o marfil
‚Ä¢ NO papel cuadriculado

<strong>T√©cnica:</strong>
‚Ä¢ L√°piz grafito (HB a 6B seg√∫n necesites)
‚Ä¢ Dibujo anal√≥gico (NO digital, NO tableta)
‚Ä¢ Permitido: goma, difumino, l√°pices de diferentes durezas

<strong>Composici√≥n:</strong>
‚Ä¢ Figura del Mercurio del David (vista 1/4)
‚Ä¢ Encuadre: figura completa visible
‚Ä¢ M√°rgenes adecuados
‚Ä¢ Horizontal u vertical seg√∫n prefieras</div>

<div class="message-section"><strong>üì∏ Para entrega:</strong>

<strong>Fotograf√≠a del dibujo:</strong>
‚Ä¢ Alta resoluci√≥n (m√≠nimo 1920x1080px)
‚Ä¢ Luz natural uniforme (sin sombras)
‚Ä¢ Fondo neutro (blanco o gris)
‚Ä¢ Dibujo centrado y completamente visible
‚Ä¢ Formato: JPG o PNG
‚Ä¢ Peso: < 5MB

<strong>M√©todo de entrega:</strong>
‚Ä¢ Google Form embebido en Lecci√≥n 3.3
‚Ä¢ Adjunta la fotograf√≠a
‚Ä¢ Completa datos solicitados
‚Ä¢ Env√≠a antes de la fecha l√≠mite</div>

<div class="message-section"><strong>‚ö†Ô∏è NO aceptado:</strong>
‚Ä¢ Dibujos digitales (Procreate, Photoshop, etc.)
‚Ä¢ Fotograf√≠as de baja calidad
‚Ä¢ Capturas de pantalla
‚Ä¢ Archivos corruptos o ilegibles
‚Ä¢ Formatos .PSD, .AI, etc.</div>

üí° <strong>Tip:</strong> Conserva el original f√≠sico. Pide retroalimentaci√≥n presencial si es posible.`,
                        related: ["proyecto final", "entrega", "requisitos"]
                    }
                },
                {
                    id: "elegir-otra-escultura",
                    keywords: ["otra escultura", "cambiar", "diferente", "elegir", "mercurio"],
                    question: "¬øPuedo elegir otra escultura?",
                    answer: {
                        title: "Escultura del Proyecto",
                        content: `<strong>NO, debes usar la escultura especificada:</strong> el Mercurio del David de Miguel √Ångel (vista 1/4).

<div class="message-section"><strong>üéØ Raz√≥n pedag√≥gica:</strong>

<strong>Por qu√© esta escultura espec√≠fica:</strong>
‚Ä¢ <strong>Contrapposto claro:</strong> Peso en una pierna, balance perfecto
‚Ä¢ <strong>Anatom√≠a visible:</strong> Sin ropa que oculte estructura
‚Ä¢ <strong>Proporciones ideales:</strong> Canon cl√°sico ~7.5 cabezas
‚Ä¢ <strong>Referencias uniformes:</strong> Todos usan la misma para comparaci√≥n
‚Ä¢ <strong>Evaluaci√≥n justa:</strong> Misma complejidad para todos</div>

<div class="message-section"><strong>‚ö†Ô∏è Si cambias la escultura:</strong>
‚Ä¢ El instructor NO podr√° evaluar objetivamente
‚Ä¢ Los criterios de la r√∫brica no aplicar√°n
‚Ä¢ Podr√≠as desaprobar por no seguir instrucciones
‚Ä¢ Pierdes la oportunidad de comparar con compa√±eros</div>

<div class="message-section"><strong>üí° Alternativa v√°lida:</strong>
Si terminas el proyecto final antes de tiempo y quieres practicar M√ÅS:
‚Ä¢ Completa el Mercurio primero (obligatorio)
‚Ä¢ Luego puedes hacer ejercicios adicionales con otras esculturas
‚Ä¢ Estos son EXTRA y no se eval√∫an, solo para pr√°ctica</div>

üéØ <strong>Referencia oficial:</strong> La imagen del Mercurio est√° en la carpeta "referencias/proyecto_final/" del repositorio.`,
                        related: ["proyecto final", "requisitos", "evaluaci√≥n"]
                    }
                },
                {
                    id: "cuando-entregar",
                    keywords: ["cu√°ndo", "cuando", "fecha", "entregar", "deadline", "l√≠mite"],
                    question: "¬øCu√°ndo debo entregar el proyecto?",
                    answer: {
                        title: "Fechas de Entrega",
                        content: `El curso es <strong>autoinstruccional de 12 d√≠as</strong>. La fecha espec√≠fica depende de cu√°ndo empezaste.

<div class="message-section"><strong>üìÖ Timeline general:</strong>

<strong>Si empezaste el [Fecha de inicio]:</strong>
‚Ä¢ <strong>D√≠a 1-4:</strong> M√≥dulo 1 (Observaci√≥n y Gesto)
‚Ä¢ <strong>D√≠a 5-8:</strong> M√≥dulo 2 (Anatom√≠a Funcional)
‚Ä¢ <strong>D√≠a 9-11:</strong> M√≥dulo 3 (Proceso y Valores)
‚Ä¢ <strong>D√≠a 12:</strong> Proyecto Final + Entrega

<strong>Fecha l√≠mite oficial:</strong>
‚Ä¢ <strong>[Fecha de inicio + 12 d√≠as]</strong>
‚Ä¢ Hora: 23:59 del d√≠a 12
‚Ä¢ Zona horaria: Chile (CLT/CLST)</div>

<div class="message-section"><strong>‚è∞ Gesti√≥n del tiempo:</strong>
‚Ä¢ <strong>Proyecto final:</strong> 6-8 horas de trabajo efectivo
‚Ä¢ <strong>Recomendaci√≥n:</strong> Empieza en d√≠a 10 u 11
‚Ä¢ No dejes todo para el √∫ltimo d√≠a
‚Ä¢ Necesitas tiempo para correcciones</div>

<div class="message-section"><strong>üö® Entregas tard√≠as:</strong>
‚Ä¢ Consulta pol√≠ticas con el instructor
‚Ä¢ Generalmente: penalizaci√≥n o no aceptaci√≥n
‚Ä¢ Si tienes problemas graves, contacta ANTES del deadline
‚Ä¢ Comunicaci√≥n temprana es clave</div>

üí° <strong>Tip:</strong> Marca en tu calendario la fecha l√≠mite y planifica trabajar el proyecto 2 d√≠as antes como buffer.`,
                        related: ["proyecto final", "planificaci√≥n", "organizaci√≥n"]
                    }
                },
                {
                    id: "como-califican",
                    keywords: ["c√≥mo", "como", "califican", "eval√∫an", "correcci√≥n", "revisar"],
                    question: "¬øC√≥mo me califican el proyecto?",
                    answer: {
                        title: "Proceso de Calificaci√≥n",
                        content: `El instructor eval√∫a tu proyecto usando la <strong>r√∫brica de 100 puntos</strong> con criterios espec√≠ficos.

<div class="message-section"><strong>üìä Proceso de evaluaci√≥n:</strong>

<strong>1. Entrega (Estudiante):</strong>
‚Ä¢ Subes fotograf√≠a del dibujo v√≠a Google Form
‚Ä¢ Sistema registra fecha/hora autom√°ticamente
‚Ä¢ Recibes confirmaci√≥n de entrega

<strong>2. Revisi√≥n (Instructor):</strong>
‚Ä¢ Descarga todas las entregas desde Google Sheets
‚Ä¢ Revisa cada proyecto individualmente
‚Ä¢ Aplica la r√∫brica criterio por criterio
‚Ä¢ Asigna puntaje por cada secci√≥n

<strong>3. Retroalimentaci√≥n:</strong>
‚Ä¢ Calificaci√≥n num√©rica (X/100 pts)
‚Ä¢ Comentarios espec√≠ficos por criterio
‚Ä¢ Fortalezas identificadas
‚Ä¢ √Åreas de mejora se√±aladas
‚Ä¢ Sugerencias concretas</div>

<div class="message-section"><strong>üéØ Criterios evaluados:</strong>

Cada criterio se eval√∫a en escala:
‚Ä¢ <strong>Excelente (18-20 pts):</strong> Dominio completo
‚Ä¢ <strong>Bueno (15-17 pts):</strong> Logro s√≥lido
‚Ä¢ <strong>Suficiente (12-14 pts):</strong> Logro b√°sico
‚Ä¢ <strong>Insuficiente (0-11 pts):</strong> No logrado

<strong>6 criterios √ó ~17 pts promedio = 100 pts</strong></div>

<div class="message-section"><strong>‚è±Ô∏è Tiempo de correcci√≥n:</strong>
‚Ä¢ Generalmente: 3-5 d√≠as h√°biles
‚Ä¢ Recibes retroalimentaci√≥n v√≠a email
‚Ä¢ Tambi√©n se actualiza en el LMS
‚Ä¢ Puedes consultar dudas sobre la calificaci√≥n</div>

<div class="message-section"><strong>üîÑ Si desapruebas (< 60 pts):</strong>
‚Ä¢ Recibes retroalimentaci√≥n detallada
‚Ä¢ Puedes solicitar reuni√≥n con instructor
‚Ä¢ Opci√≥n de mejorar y re-entregar
‚Ä¢ Nueva evaluaci√≥n sobre el trabajo mejorado</div>

üìö <strong>Descarga la r√∫brica</strong> desde la Lecci√≥n 3.3 para saber exactamente qu√© se eval√∫a.`,
                        related: ["proyecto final", "evaluaci√≥n", "r√∫brica"]
                    }
                },
                {
                    id: "libros-loomis",
                    keywords: ["libros", "loomis", "conseguir", "comprar", "d√≥nde"],
                    question: "¬øD√≥nde consigo los libros de Loomis?",
                    answer: {
                        title: "Referencias Bibliogr√°ficas",
                        content: `Los libros de Loomis y otras referencias est√°n disponibles en <strong>versi√≥n digital y f√≠sica</strong>.

<div class="message-section"><strong>üìö Libros principales del curso:</strong>

<strong>Andrew Loomis:</strong>
1. <strong>"Figure Drawing For All It's Worth" (1943)</strong>
   ‚Ä¢ Disponible: Amazon, Book Depository
   ‚Ä¢ PDF gratuito: archive.org
   ‚Ä¢ Precio f√≠sico: $15.000-25.000 CLP

2. <strong>"Drawing the Head and Hands" (1956)</strong>
   ‚Ä¢ Mismo disponibilidad
   ‚Ä¢ Precio similar

<strong>Otros autores:</strong>
‚Ä¢ Nicola√Ødes - "The Natural Way to Draw"
‚Ä¢ Bridgman - "Constructive Anatomy"
‚Ä¢ Hogarth - "Dynamic Anatomy"
‚Ä¢ Goldfinger - "Human Anatomy for Artists"</div>

<div class="message-section"><strong>üíª Opciones digitales:</strong>

<strong>Gratuitas:</strong>
‚Ä¢ Archive.org (muchos est√°n en dominio p√∫blico)
‚Ä¢ Librer√≠as universitarias digitales
‚Ä¢ Repositorios acad√©micos

<strong>De pago:</strong>
‚Ä¢ Amazon Kindle
‚Ä¢ Google Books
‚Ä¢ Apple Books
‚Ä¢ Precio: $5-15 USD cada uno</div>

<div class="message-section"><strong>üìñ F√≠sicos en Chile:</strong>
‚Ä¢ Librer√≠a Nacional (Alameda)
‚Ä¢ Ant√°rtica (mall/online)
‚Ä¢ Qu√© Leo (online)
‚Ä¢ Buscalibre.cl
‚Ä¢ Amazon con env√≠o internacional</div>

<div class="message-section"><strong>‚ö†Ô∏è Importante:</strong>
‚Ä¢ NO necesitas comprar todos los libros
‚Ä¢ El curso provee los conceptos clave
‚Ä¢ Los libros son para <strong>profundizar</strong> (opcional)
‚Ä¢ Si compras uno solo, que sea Loomis "Figure Drawing"</div>

üí° <strong>Alternativa:</strong> La biblioteca de tu universidad puede tener algunos en pr√©stamo.`,
                        related: ["recursos", "bibliograf√≠a", "materiales"]
                    }
                },
                {
                    id: "libro-recomendado",
                    keywords: ["libro", "recomiendas", "mejor", "empezar", "principiante"],
                    question: "¬øQu√© libro me recomiendas para empezar?",
                    answer: {
                        title: "Libro Recomendado",
                        content: `Si solo puedes conseguir UN libro, que sea <strong>"Figure Drawing For All It's Worth" de Andrew Loomis (1943)</strong>.

<div class="message-section"><strong>üåü Por qu√© Loomis:</strong>

‚Ä¢ <strong>Completo:</strong> Cubre desde fundamentos hasta figura completa
‚Ä¢ <strong>Did√°ctico:</strong> Explicaciones paso a paso muy claras
‚Ä¢ <strong>Visual:</strong> Diagramas y ejemplos en cada p√°gina
‚Ä¢ <strong>Progresivo:</strong> Estructura similar a este curso
‚Ä¢ <strong>Atemporal:</strong> T√©cnicas v√°lidas desde hace 80 a√±os
‚Ä¢ <strong>Accesible:</strong> Lenguaje claro, no excesivamente t√©cnico</div>

<div class="message-section"><strong>üìñ Contenido del libro:</strong>

<strong>Parte 1: Fundamentos</strong>
‚Ä¢ L√≠nea de acci√≥n y gesto
‚Ä¢ M√©todo del l√°piz para proporciones
‚Ä¢ Balance y contrapposto

<strong>Parte 2: Anatom√≠a</strong>
‚Ä¢ 3 masas corporales
‚Ä¢ Grupos musculares principales
‚Ä¢ Manos y pies simplificados

<strong>Parte 3: Luz y Forma</strong>
‚Ä¢ Sistema de 5 valores tonales
‚Ä¢ Aplicaci√≥n de sombras
‚Ä¢ Creaci√≥n de volumen

<strong>Parte 4: Figura en Acci√≥n</strong>
‚Ä¢ Escorzo y perspectiva
‚Ä¢ Figuras din√°micas
‚Ä¢ Composici√≥n</div>

<div class="message-section"><strong>üéØ Alineaci√≥n con el curso:</strong>
El curso UAH est√° <strong>basado directamente en Loomis</strong>:
‚Ä¢ M√≥dulo 1 = Parte 1 de Loomis
‚Ä¢ M√≥dulo 2 = Parte 2 de Loomis
‚Ä¢ M√≥dulo 3 = Parte 3 de Loomis
‚Ä¢ Proyecto final = Aplicaci√≥n integral</div>

<div class="message-section"><strong>üí∞ C√≥mo conseguirlo:</strong>
‚Ä¢ <strong>Gratis:</strong> archive.org (PDF dominio p√∫blico)
‚Ä¢ <strong>F√≠sico:</strong> Amazon ~$20.000 CLP
‚Ä¢ <strong>Kindle:</strong> ~$10 USD</div>

üìö <strong>Segundo recomendado:</strong> Si quieres un segundo libro, "The Natural Way to Draw" de Nicola√Ødes complementa perfectamente.`,
                        related: ["recursos", "bibliograf√≠a", "aprendizaje"]
                    }
                },
                {
                    id: "recursos-gratuitos",
                    keywords: ["gratis", "gratuitos", "free", "sin costo", "econ√≥mico"],
                    question: "¬øHay recursos gratuitos disponibles?",
                    answer: {
                        title: "Recursos Gratuitos",
                        content: `<strong>S√ç, hay muchos recursos gratuitos</strong> excelentes para complementar el curso.

<div class="message-section"><strong>üìö Libros gratuitos (dominio p√∫blico):</strong>

‚Ä¢ <strong>Archive.org:</strong>
  - Loomis - Figure Drawing For All It's Worth
  - Bridgman - Constructive Anatomy
  - Vanderpoel - The Human Figure
  - Richer - Artistic Anatomy

‚Ä¢ <strong>Gutenberg.org:</strong>
  - Textos antiguos de anatom√≠a art√≠stica</div>

<div class="message-section"><strong>üé® Sitios de pr√°ctica:</strong>

‚Ä¢ <strong>Line of Action (line-of-action.com):</strong>
  - Referencias cronometradas gratis
  - Poses de 30 seg a 30 min
  - Filtros por tipo de pose

‚Ä¢ <strong>Quickposes (quickposes.com):</strong>
  - Similar a Line of Action
  - Interfaz simple y efectiva

‚Ä¢ <strong>Croquis Cafe (YouTube):</strong>
  - Videos de modelos en vivo
  - Sesiones completas gratuitas</div>

<div class="message-section"><strong>üìπ Canales de YouTube:</strong>

‚Ä¢ <strong>Proko (Stan Prokopenko):</strong>
  - Anatom√≠a detallada
  - Figura humana paso a paso

‚Ä¢ <strong>Sycra:</strong>
  - Fundamentos de dibujo
  - Ejercicios pr√°cticos

‚Ä¢ <strong>Moderndayjames:</strong>
  - Croquis r√°pidos
  - T√©cnicas de observaci√≥n</div>

<div class="message-section"><strong>üåê Recursos web:</strong>

‚Ä¢ <strong>Anatomy360.info:</strong>
  - Modelos 3D rotables
  - M√∫sculos por capas

‚Ä¢ <strong>JustSketchMe:</strong>
  - Posador 3D gratuito
  - Control total de pose

‚Ä¢ <strong>Posemaniacs:</strong>
  - Modelos 3D en diversas poses</div>

üí° <strong>Importante:</strong> Este curso UAH es completamente gratuito. No necesitas pagar nada extra para aprender efectivamente.`,
                        related: ["recursos", "pr√°ctica", "materiales"]
                    }
                }
            ]
        };

        // ========== SISTEMA DE GESTI√ìN DEL CHAT ==========
        class ChatMentor {
            constructor() {
                this.currentModule = 'general';
                this.conversationHistory = [];
                this.stats = {
                    totalQueries: 0,
                    helpfulResponses: 0,
                    sessions: 0
                };
                
                this.init();
            }

            init() {
                this.loadHistory();
                this.loadStats();
                this.setupEventListeners();
                this.updateQuickReplies();
                this.stats.sessions++;
                this.saveStats();
            }

            setupEventListeners() {
                // Module selector
                document.getElementById('module-select').addEventListener('change', (e) => {
                    this.currentModule = e.target.value;
                    this.updateQuickReplies();
                });

                // Input handling
                const input = document.getElementById('chat-input');
                input.addEventListener('input', () => this.autoResize(input));
                input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        this.sendMessage();
                    }
                });

                // Send button
                document.getElementById('btn-send').addEventListener('click', () => {
                    this.sendMessage();
                });

                // Theme toggle
                document.getElementById('btn-theme').addEventListener('click', () => {
                    this.toggleTheme();
                });

                // Clear chat
                document.getElementById('btn-clear').addEventListener('click', () => {
                    this.clearChat();
                });

                // Stats toggle
                document.getElementById('btn-stats').addEventListener('click', () => {
                    this.showStats();
                });
            }

            autoResize(textarea) {
                textarea.style.height = 'auto';
                textarea.style.height = Math.min(textarea.scrollHeight, 120) + 'px';
            }

            updateQuickReplies() {
                const container = document.getElementById('quick-replies');
                const questions = this.getQuestionsForModule(this.currentModule);
                
                // Show first 6 questions
                const quickQuestions = questions.slice(0, 6);
                
                container.innerHTML = quickQuestions.map(q => `
                    <button class="quick-reply-btn" onclick="chatMentor.handleQuickReply('${q.id}')">
                        ${q.question}
                    </button>
                `).join('');
            }

            getQuestionsForModule(module) {
                if (module === 'general') {
                    // Mix from all modules
                    return [
                        ...knowledgeBase.modulo1.slice(0, 2),
                        ...knowledgeBase.modulo2.slice(0, 2),
                        ...knowledgeBase.modulo3.slice(0, 1),
                        ...knowledgeBase.sistema.slice(0, 1)
                    ];
                }
                return knowledgeBase[module] || [];
            }

            handleQuickReply(questionId) {
                // Find question in all modules
                let question = null;
                for (const module in knowledgeBase) {
                    question = knowledgeBase[module].find(q => q.id === questionId);
                    if (question) break;
                }

                if (question) {
                    this.addUserMessage(question.question);
                    this.showTypingIndicator();
                    setTimeout(() => {
                        this.hideTypingIndicator();
                        this.addBotMessage(question.answer);
                    }, 800);
                }
            }

            sendMessage() {
                const input = document.getElementById('chat-input');
                const message = input.value.trim();
                
                if (!message) return;

                this.addUserMessage(message);
                input.value = '';
                input.style.height = 'auto';
                
                // Search for answer
                this.showTypingIndicator();
                setTimeout(() => {
                    this.hideTypingIndicator();
                    const answer = this.searchAnswer(message);
                    if (answer) {
                        this.addBotMessage(answer);
                    } else {
                        this.addNotFoundMessage(message);
                    }
                }, 1000);

                this.stats.totalQueries++;
                this.saveStats();
            }

            searchAnswer(query) {
                const queryLower = query.toLowerCase();
                let bestMatch = null;
                let bestScore = 0;

                // Search in all modules
                for (const module in knowledgeBase) {
                    for (const question of knowledgeBase[module]) {
                        const score = this.calculateMatchScore(queryLower, question.keywords);
                        if (score > bestScore) {
                            bestScore = score;
                            bestMatch = question;
                        }
                    }
                }

                return bestScore > 0.3 ? bestMatch.answer : null;
            }

            calculateMatchScore(query, keywords) {
                let score = 0;
                const queryWords = query.split(/\s+/);
                
                queryWords.forEach(word => {
                    keywords.forEach(keyword => {
                        if (keyword.includes(word) || word.includes(keyword)) {
                            score += word.length / query.length;
                        }
                    });
                });

                return Math.min(score, 1);
            }

            addUserMessage(text) {
                const messagesContainer = document.getElementById('chat-messages');
                const welcomeMsg = messagesContainer.querySelector('.welcome-message');
                if (welcomeMsg) welcomeMsg.remove();

                const time = new Date().toLocaleTimeString('es-CL', { hour: '2-digit', minute: '2-digit' });
                
                const messageHTML = `
                    <div class="message user">
                        <div class="message-content">
                            <div class="message-bubble">${this.escapeHtml(text)}</div>
                            <div class="message-time">${time}</div>
                        </div>
                        <div class="message-avatar">üë§</div>
                    </div>
                `;

                messagesContainer.insertAdjacentHTML('beforeend', messageHTML);
                this.scrollToBottom();

                this.conversationHistory.push({
                    type: 'user',
                    content: text,
                    time: new Date().toISOString()
                });
                this.saveHistory();
            }

            addBotMessage(answer) {
                const messagesContainer = document.getElementById('chat-messages');
                const time = new Date().toLocaleTimeString('es-CL', { hour: '2-digit', minute: '2-digit' });
                
                const relatedTopics = answer.related ? answer.related.map(topic => 
                    `<button class="related-topic-btn" onclick="chatMentor.searchByTopic('${topic}')">${topic}</button>`
                ).join('') : '';

                const messageHTML = `
                    <div class="message bot">
                        <div class="message-avatar">ü§ñ</div>
                        <div class="message-content">
                            <div class="message-bubble">
                                <h4>${answer.title}</h4>
                                ${answer.content}
                                ${relatedTopics ? `
                                    <div class="related-topics">
                                        <strong>üìå Tambi√©n te puede interesar:</strong><br>
                                        ${relatedTopics}
                                    </div>
                                ` : ''}
                            </div>
                            <div class="message-feedback">
                                <button class="btn-feedback-msg" onclick="chatMentor.registerFeedback(true, this)">
                                    üëç √ötil
                                </button>
                                <button class="btn-feedback-msg" onclick="chatMentor.registerFeedback(false, this)">
                                    üëé No √∫til
                                </button>
                            </div>
                            <div class="message-time">${time}</div>
                        </div>
                    </div>
                `;

                messagesContainer.insertAdjacentHTML('beforeend', messageHTML);
                this.scrollToBottom();

                this.conversationHistory.push({
                    type: 'bot',
                    content: answer,
                    time: new Date().toISOString()
                });
                this.saveHistory();
            }

            addNotFoundMessage(query) {
                const answer = {
                    title: "üîç No encontr√© respuesta exacta",
                    content: `
                        <p>No pude encontrar una respuesta espec√≠fica para: <strong>"${this.escapeHtml(query)}"</strong></p>
                        
                        <div class="message-section"><strong>üí° Sugerencias:</strong>
                        ‚Ä¢ Intenta reformular con otras palabras
                        ‚Ä¢ Usa t√©rminos clave: l√≠nea de acci√≥n, proporciones, anatom√≠a, valores
                        ‚Ä¢ Explora las preguntas r√°pidas arriba
                        ‚Ä¢ Cambia el contexto del m√≥dulo si buscas algo espec√≠fico</div>

                        <p><strong>üìß Para dudas no cubiertas:</strong> Contacta al instructor del curso para consultas m√°s espec√≠ficas o personalizadas.</p>
                    `,
                    related: []
                };

                this.addBotMessage(answer);
            }

            searchByTopic(topic) {
                document.getElementById('chat-input').value = topic;
                this.sendMessage();
            }

            showTypingIndicator() {
                document.getElementById('typing-indicator').classList.add('active');
                this.scrollToBottom();
            }

            hideTypingIndicator() {
                document.getElementById('typing-indicator').classList.remove('active');
            }

            registerFeedback(helpful, button) {
                if (helpful) {
                    this.stats.helpfulResponses++;
                    button.parentElement.innerHTML = '<span style="color: var(--success); font-weight: 600;">‚úÖ ¬°Gracias por tu feedback!</span>';
                } else {
                    button.parentElement.innerHTML = '<span style="color: var(--warning); font-weight: 600;">‚ùå Gracias. Trabajaremos en mejorar.</span>';
                }
                this.saveStats();
            }

            toggleTheme() {
                const html = document.documentElement;
                const currentTheme = html.getAttribute('data-theme');
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                
                html.setAttribute('data-theme', newTheme);
                localStorage.setItem('chat-theme', newTheme);
                
                const icon = document.querySelector('#btn-theme i');
                icon.className = newTheme === 'dark' ? 'bi bi-sun-fill' : 'bi bi-moon-fill';
            }

            clearChat() {
                if (!confirm('¬øSeguro que quieres limpiar el chat? Se perder√° el historial de esta sesi√≥n.')) {
                    return;
                }

                const messagesContainer = document.getElementById('chat-messages');
                messagesContainer.innerHTML = `
                    <div class="welcome-message">
                        <div class="welcome-icon">üëã</div>
                        <h3>¬°Hola! Soy tu Mentor Anat√≥mico</h3>
                        <p>Estoy aqu√≠ para ayudarte con dudas sobre anatom√≠a, t√©cnicas de dibujo, proporciones y todo lo relacionado con el curso.</p>
                        <p style="margin-top: 1rem;"><strong>Selecciona una pregunta r√°pida o escribe tu consulta abajo</strong></p>
                    </div>
                `;

                this.conversationHistory = [];
                this.saveHistory();
            }

            showStats() {
                const satisfaction = this.stats.totalQueries > 0 
                    ? Math.round((this.stats.helpfulResponses / this.stats.totalQueries) * 100)
                    : 0;

                const statsHTML = `
                    <div class="message bot">
                        <div class="message-avatar">üìä</div>
                        <div class="message-content">
                            <div class="message-bubble">
                                <h4>Estad√≠sticas de Uso</h4>
                                <div class="stats-panel">
                                    <div class="stats-grid">
                                        <div class="stat-item">
                                            <div class="stat-number">${this.stats.totalQueries}</div>
                                            <div class="stat-label">Consultas</div>
                                        </div>
                                        <div class="stat-item">
                                            <div class="stat-number">${this.stats.helpfulResponses}</div>
                                            <div class="stat-label">√ötiles</div>
                                        </div>
                                        <div class="stat-item">
                                            <div class="stat-number">${satisfaction}%</div>
                                            <div class="stat-label">Satisfacci√≥n</div>
                                        </div>
                                        <div class="stat-item">
                                            <div class="stat-number">${this.stats.sessions}</div>
                                            <div class="stat-label">Sesiones</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="message-time">${new Date().toLocaleTimeString('es-CL', { hour: '2-digit', minute: '2-digit' })}</div>
                        </div>
                    </div>
                `;

                document.getElementById('chat-messages').insertAdjacentHTML('beforeend', statsHTML);
                this.scrollToBottom();
            }

            scrollToBottom() {
                const container = document.getElementById('chat-messages');
                setTimeout(() => {
                    container.scrollTop = container.scrollHeight;
                }, 100);
            }

            escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            }

            saveHistory() {
                localStorage.setItem('chat-history', JSON.stringify(this.conversationHistory));
            }

            loadHistory() {
                const saved = localStorage.getItem('chat-history');
                if (saved) {
                    this.conversationHistory = JSON.parse(saved);
                    // Optionally reload messages in UI
                }
            }

            saveStats() {
                localStorage.setItem('chat-stats', JSON.stringify(this.stats));
            }

            loadStats() {
                const saved = localStorage.getItem('chat-stats');
                if (saved) {
                    this.stats = JSON.parse(saved);
                }
            }
        }

        // Initialize chat
        const chatMentor = new ChatMentor();

        // Load theme preference
        const savedTheme = localStorage.getItem('chat-theme');
        if (savedTheme) {
            document.documentElement.setAttribute('data-theme', savedTheme);
            const icon = document.querySelector('#btn-theme i');
            icon.className = savedTheme === 'dark' ? 'bi bi-sun-fill' : 'bi bi-moon-fill';
        }
    </script>
</body>
</html>