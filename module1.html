<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="M√≥dulo 1: Fundamentos y Proporci√≥n - LMS Dibujo Anat√≥mico UAH">
    <title>M√≥dulo 1: Fundamentos - LMS UAH</title>
    
    <style>
        :root {
            --primary-dark: #2c5f66;
            --primary-light: #e8a2b8;
            --dark: #1a1a1a;
            --white: #ffffff;
            --gray-light: #f5f5f5;
            --gray-medium: #666666;
            --success: #4CAF50;
            --warning: #FFC107;
            --danger: #f44336;
            --info: #2196F3;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--gray-light);
            color: var(--dark);
            line-height: 1.6;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--dark) 100%);
            color: white;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .back-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: background 0.3s;
        }

        .back-btn:hover {
            background: rgba(255,255,255,0.1);
        }

        .module-title {
            font-size: 1.5rem;
        }

        .module-progress {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .progress-text {
            font-size: 1.2rem;
            font-weight: bold;
        }

        /* Layout */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 2rem;
        }

        /* Sidebar */
        .sidebar {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            height: fit-content;
            position: sticky;
            top: 100px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .lesson-list {
            list-style: none;
        }

        .lesson-item {
            margin-bottom: 0.5rem;
        }

        .lesson-link {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            border-radius: 8px;
            text-decoration: none;
            color: var(--dark);
            transition: all 0.3s;
            cursor: pointer;
        }

        .lesson-link:hover {
            background: var(--gray-light);
        }

        .lesson-link.active {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary-light));
            color: white;
        }

        .lesson-number {
            width: 30px;
            height: 30px;
            background: var(--gray-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .lesson-link.active .lesson-number {
            background: rgba(255,255,255,0.3);
        }

        .lesson-link.completed .lesson-number {
            background: var(--success);
            color: white;
        }

        /* Main Content */
        .content {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .content-header {
            border-bottom: 2px solid var(--gray-light);
            padding-bottom: 1.5rem;
            margin-bottom: 2rem;
        }

        .lesson-title {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: var(--dark);
        }

        .lesson-meta {
            display: flex;
            gap: 2rem;
            color: var(--gray-medium);
            font-size: 0.9rem;
        }

        .lesson-content {
            margin-bottom: 2rem;
        }

        .lesson-content h2 {
            font-size: 1.5rem;
            margin: 2rem 0 1rem;
            color: var(--primary-dark);
        }

        .lesson-content h3 {
            font-size: 1.2rem;
            margin: 1.5rem 0 0.8rem;
            color: var(--dark);
        }

        .lesson-content p {
            margin-bottom: 1rem;
            line-height: 1.8;
        }

        .lesson-content ul,
        .lesson-content ol {
            margin-left: 2rem;
            margin-bottom: 1rem;
        }

        .lesson-content li {
            margin-bottom: 0.5rem;
        }

        /* Interactive Elements */
        .exercise-box {
            background: linear-gradient(135deg, #f0f4ff, #fef0f5);
            border-left: 4px solid var(--primary-dark);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 2rem 0;
        }

        .exercise-title {
            font-weight: bold;
            color: var(--primary-dark);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .tip-box {
            background: #fff9e6;
            border-left: 4px solid var(--warning);
            padding: 1rem;
            border-radius: 8px;
            margin: 1.5rem 0;
        }

        .tip-box::before {
            content: 'üí° ';
            font-size: 1.2rem;
        }

        /* Image Gallery */
        .image-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .gallery-item {
            background: var(--gray-light);
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .gallery-item:hover {
            transform: scale(1.05);
        }

        .gallery-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .gallery-caption {
            padding: 0.8rem;
            font-size: 0.9rem;
            text-align: center;
            color: var(--gray-medium);
        }

        /* Video Player */
        .video-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            margin: 2rem 0;
            background: var(--gray-light);
            border-radius: 8px;
            overflow: hidden;
        }

        .video-placeholder {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--gray-medium);
        }

        .play-button {
            width: 80px;
            height: 80px;
            background: var(--primary-dark);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 1rem;
        }

        .play-button:hover {
            background: var(--primary-light);
            transform: scale(1.1);
        }

        /* Quiz Section */
        .quiz-container {
            background: var(--gray-light);
            padding: 2rem;
            border-radius: 12px;
            margin: 2rem 0;
        }

        .quiz-question {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: var(--dark);
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .quiz-option {
            padding: 1rem;
            background: white;
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quiz-option:hover {
            border-color: var(--primary-light);
        }

        .quiz-option.selected {
            border-color: var(--primary-dark);
            background: rgba(44, 95, 102, 0.1);
        }

        .quiz-option.correct {
            border-color: var(--success);
            background: rgba(76, 175, 80, 0.1);
        }

        .quiz-option.incorrect {
            border-color: var(--danger);
            background: rgba(244, 67, 54, 0.1);
        }

        /* Navigation Buttons */
        .lesson-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 2rem 0;
            border-top: 2px solid var(--gray-light);
            margin-top: 3rem;
        }

        .nav-button {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.8rem 1.5rem;
            background: var(--primary-dark);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-button:hover {
            background: var(--primary-light);
            transform: translateY(-2px);
        }

        .nav-button:disabled {
            background: var(--gray-medium);
            cursor: not-allowed;
            opacity: 0.5;
            transform: none;
        }

        .complete-button {
            padding: 1rem 2rem;
            background: var(--success);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .complete-button:hover {
            background: #45a049;
            transform: translateY(-2px);
        }

        /* Progress Bar */
        .module-progress-bar {
            height: 30px;
            background: var(--gray-light);
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 2rem;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-dark), var(--primary-light));
            border-radius: 15px;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 1rem;
            color: white;
            font-weight: bold;
        }

        /* Notification */
        .notification {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--success);
            color: white;
            padding: 1rem 2rem;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            background: var(--danger);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
            }

            .sidebar {
                position: static;
            }

            .lesson-title {
                font-size: 1.5rem;
            }

            .image-gallery {
                grid-template-columns: 1fr;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
            }
            to {
                transform: translateX(0);
            }
        }
    </style>
</head>
<body>
    <!-- Cargar auth.js -->
    <script src="auth.js"></script>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <a href="index.html" class="back-btn">
                <span>‚Üê</span>
                <span>Volver al Curso</span>
            </a>
            
            <h1 class="module-title">M√≥dulo 1: Fundamentos y Proporci√≥n</h1>
            
            <div class="module-progress">
                <span class="progress-text" id="progressText">0% Completado</span>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <h3 style="margin-bottom: 1.5rem;">Lecciones</h3>
            <ul class="lesson-list">
                <li class="lesson-item">
                    <a class="lesson-link active" onclick="loadLesson(1)">
                        <span class="lesson-number">1</span>
                        <span>Introducci√≥n al Canon</span>
                    </a>
                </li>
                <li class="lesson-item">
                    <a class="lesson-link" onclick="loadLesson(2)">
                        <span class="lesson-number">2</span>
                        <span>Las 8 Cabezas</span>
                    </a>
                </li>
                <li class="lesson-item">
                    <a class="lesson-link" onclick="loadLesson(3)">
                        <span class="lesson-number">3</span>
                        <span>Proporciones B√°sicas</span>
                    </a>
                </li>
                <li class="lesson-item">
                    <a class="lesson-link" onclick="loadLesson(4)">
                        <span class="lesson-number">4</span>
                        <span>Estructura Esquel√©tica</span>
                    </a>
                </li>
                <li class="lesson-item">
                    <a class="lesson-link" onclick="loadLesson(5)">
                        <span class="lesson-number">5</span>
                        <span>Ejercicios Pr√°cticos</span>
                    </a>
                </li>
                <li class="lesson-item">
                    <a class="lesson-link" onclick="loadLesson(6)">
                        <span class="lesson-number">6</span>
                        <span>Evaluaci√≥n Final</span>
                    </a>
                </li>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="content fade-in" id="mainContent">
            <div class="module-progress-bar">
                <div class="progress-fill" id="moduleProgress" style="width: 0%">
                    <span>0%</span>
                </div>
            </div>

            <div class="content-header">
                <h2 class="lesson-title">Lecci√≥n 1: Introducci√≥n al Canon de 8 Cabezas</h2>
                <div class="lesson-meta">
                    <span>‚è±Ô∏è 30 minutos</span>
                    <span>üìö Fundamentos</span>
                    <span>üéØ Nivel: B√°sico</span>
                </div>
            </div>

            <div class="lesson-content" id="lessonContent">
                <!-- El contenido se carga din√°micamente -->
            </div>

            <!-- Navigation -->
            <div class="lesson-navigation">
                <button class="nav-button" disabled id="prevButton">
                    <span>‚Üê</span>
                    <span>Lecci√≥n Anterior</span>
                </button>

                <button class="complete-button" onclick="completeLesson()" id="completeButton">
                    Marcar como Completada
                </button>

                <button class="nav-button" onclick="loadLesson(2)" id="nextButton">
                    <span>Siguiente Lecci√≥n</span>
                    <span>‚Üí</span>
                </button>
            </div>
        </main>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <!-- Scripts -->
    <script>
        // Variables globales
        let currentUser = null;
        let currentLesson = 1;
        let moduleProgress = 0;
        let completedLessons = [];
        let lessonData = {};
        
        // Identificador del m√≥dulo actual
        window.currentModuleId = 1;

        // Contenido de las lecciones
        const lessonsContent = {
            1: {
                title: 'Introducci√≥n al Canon de 8 Cabezas',
                meta: '‚è±Ô∏è 30 minutos | üìö Fundamentos | üéØ Nivel: B√°sico',
                content: `
                    <p>El canon de 8 cabezas es un sistema de proporciones utilizado desde el Renacimiento para representar la figura humana ideal. Este sistema divide el cuerpo en ocho segmentos iguales, cada uno del tama√±o de la cabeza.</p>
                    <h2>¬øPor qu√© 8 cabezas?</h2>
                    <p>Esta proporci√≥n se considera ideal para representar figuras heroicas y estilizadas. En la realidad, la mayor√≠a de las personas miden entre 7 y 7.5 cabezas de altura, pero el canon de 8 cabezas crea una figura m√°s elegante y proporcionada.</p>
                    <div class="tip-box"><strong>Consejo:</strong> Aunque el canon de 8 cabezas es ideal para comenzar, recuerda que las proporciones reales var√≠an seg√∫n la edad, g√©nero y caracter√≠sticas individuales.</div>
                    <div class="exercise-box">
                        <div class="exercise-title">üìù Ejercicio 1: Primera Pr√°ctica</div>
                        <p>Dibuja una l√≠nea vertical y div√≠dela en 8 partes iguales. Marca cada divisi√≥n con una l√≠nea horizontal suave. Esta ser√° tu gu√≠a base para construir la figura.</p>
                    </div>
                `
            },
            2: {
                title: 'Las 8 Divisiones del Cuerpo',
                meta: '‚è±Ô∏è 35 minutos | üìö Estructura | üéØ Nivel: B√°sico',
                content: `
                    <h2>Divisi√≥n del Cuerpo en 8 Segmentos</h2>
                    <p>El sistema de 8 cabezas divide el cuerpo humano en segmentos proporcionalmente exactos:</p>
                    <ol>
                        <li><strong>Cabeza:</strong> Desde la coronilla hasta el ment√≥n</li>
                        <li><strong>Ment√≥n a pecho:</strong> Incluye el cuello y parte superior del torso</li>
                        <li><strong>Pecho a ombligo:</strong> Zona del torso medio</li>
                        <li><strong>Ombligo a pubis:</strong> Parte baja del torso</li>
                        <li><strong>Pubis a mitad del muslo:</strong> Parte superior de las piernas</li>
                        <li><strong>Mitad del muslo a rodillas:</strong> Zona de las rodillas</li>
                        <li><strong>Rodillas a mitad de pantorrilla:</strong> Parte inferior de las piernas</li>
                        <li><strong>Mitad de pantorrilla a pies:</strong> Tobillos y pies</li>
                    </ol>
                    <div class="exercise-box">
                        <div class="exercise-title">üìù Ejercicio 2: Mapeo Corporal</div>
                        <p>Dibuja una figura humana b√°sica y marca cada una de las 8 divisiones con l√≠neas horizontales. Etiqueta cada secci√≥n.</p>
                    </div>
                `
            },
            3: {
                title: 'Proporciones B√°sicas y Medidas',
                meta: '‚è±Ô∏è 40 minutos | üìö Medici√≥n | üéØ Nivel: Intermedio',
                content: `
                    <h2>Medidas Horizontales Clave</h2>
                    <p>Adem√°s de las divisiones verticales, existen proporciones horizontales importantes:</p>
                    <ul>
                        <li><strong>Ancho de hombros:</strong> 2 cabezas de ancho</li>
                        <li><strong>Ancho de caderas:</strong> 1.5 cabezas de ancho</li>
                        <li><strong>Ancho de cabeza:</strong> 0.7 cabezas de ancho</li>
                        <li><strong>Ancho de cuello:</strong> 0.3 cabezas de ancho</li>
                    </ul>
                    <h2>Puntos de Referencia Laterales</h2>
                    <ul>
                        <li>Los codos se alinean con la cintura (unidad 3)</li>
                        <li>Las mu√±ecas se alinean con la entrepierna (unidad 4)</li>
                        <li>Los dedos alcanzan 1/3 del muslo (unidad 5)</li>
                    </ul>
                    <div class="exercise-box">
                        <div class="exercise-title">üìù Ejercicio 3: Verificaci√≥n de Proporciones</div>
                        <p>Toma una fotograf√≠a de referencia y verifica las proporciones usando el sistema de 8 cabezas. Identifica desviaciones y analiza por qu√© ocurren.</p>
                    </div>
                `
            },
            4: {
                title: 'Estructura Esquel√©tica Fundamental',
                meta: '‚è±Ô∏è 45 minutos | üìö Anatom√≠a | üéØ Nivel: Intermedio',
                content: `
                    <h2>Base Esquel√©tica del Canon</h2>
                    <p>El canon de 8 cabezas se basa en la estructura √≥sea humana. Comprender la anatom√≠a b√°sica mejora la precisi√≥n del dibujo:</p>
                    <h3>Puntos √ìseos Clave</h3>
                    <ul>
                        <li><strong>Cr√°neo:</strong> Determina la unidad de medida base</li>
                        <li><strong>Clav√≠culas:</strong> Marcan el ancho de los hombros</li>
                        <li><strong>Caja tor√°cica:</strong> Define el volumen del pecho</li>
                        <li><strong>Pelvis:</strong> Establece el ancho de las caderas</li>
                        <li><strong>F√©mur:</strong> Hueso m√°s largo, determina la proporci√≥n de las piernas</li>
                    </ul>
                    <div class="tip-box"><strong>Importante:</strong> La estructura √≥sea es constante, pero los m√∫sculos y tejidos pueden variar significativamente entre individuos.</div>
                    <div class="exercise-box">
                        <div class="exercise-title">üìù Ejercicio 4: Esqueleto B√°sico</div>
                        <p>Dibuja un esqueleto simplificado usando formas geom√©tricas b√°sicas, respetando las proporciones del canon de 8 cabezas.</p>
                    </div>
                `
            },
            5: {
                title: 'Ejercicios Pr√°cticos de Proporci√≥n',
                meta: '‚è±Ô∏è 60 minutos | üìö Pr√°ctica | üéØ Nivel: Intermedio',
                content: `
                    <h2>Ejercicios de Aplicaci√≥n</h2>
                    <p>La pr√°ctica constante es esencial para dominar el canon de 8 cabezas. Estos ejercicios te ayudar√°n a internalizar las proporciones:</p>
                    
                    <div class="exercise-box">
                        <div class="exercise-title">üìù Ejercicio 5A: Figuras B√°sicas</div>
                        <p>Dibuja 10 figuras humanas b√°sicas usando solo formas geom√©tricas (c√≠rculos, rect√°ngulos, l√≠neas). Enf√≥cate √∫nicamente en las proporciones, no en detalles.</p>
                    </div>
                    
                    <div class="exercise-box">
                        <div class="exercise-title">üìù Ejercicio 5B: Diferentes √Ångulos</div>
                        <p>Dibuja la misma figura desde 4 √°ngulos diferentes: frontal, perfil, 3/4 y espalda. Mant√©n las proporciones consistentes.</p>
                    </div>
                    
                    <div class="exercise-box">
                        <div class="exercise-title">üìù Ejercicio 5C: Correcci√≥n de Errores</div>
                        <p>Se te proporcionan dibujos con errores de proporci√≥n. Identifica y corrige cada error usando el sistema de 8 cabezas.</p>
                    </div>
                    
                    <h2>Diferencias Anat√≥micas</h2>
                    <h3>Canon Masculino vs Femenino</h3>
                    <p><strong>Figura Masculina:</strong></p>
                    <ul>
                        <li>Hombros m√°s anchos (2.2 cabezas)</li>
                        <li>Caderas m√°s estrechas (1.3 cabezas)</li>
                        <li>Torso m√°s rectangular</li>
                        <li>Extremidades m√°s angulosas</li>
                    </ul>
                    <p><strong>Figura Femenina:</strong></p>
                    <ul>
                        <li>Hombros moderados (1.8 cabezas)</li>
                        <li>Caderas m√°s anchas (1.6 cabezas)</li>
                        <li>Cintura m√°s definida</li>
                        <li>Curvas m√°s suaves</li>
                    </ul>
                `
            },
            6: {
                title: 'Evaluaci√≥n Final del M√≥dulo',
                meta: '‚è±Ô∏è 90 minutos | üìö Evaluaci√≥n | üéØ Nivel: Aplicaci√≥n',
                content: `
                    <h2>Proyecto Final: Portfolio de Proporciones</h2>
                    <p>Para completar este m√≥dulo, debes crear un portfolio que demuestre tu dominio del canon de 8 cabezas:</p>
                    
                    <div class="exercise-box">
                        <div class="exercise-title">üìù Proyecto Final</div>
                        <p><strong>Entregables requeridos:</strong></p>
                        <ol>
                            <li><strong>Gu√≠a de construcci√≥n:</strong> Diagrama paso a paso del canon de 8 cabezas</li>
                            <li><strong>Figuras masculinas:</strong> 3 dibujos (frontal, perfil, 3/4)</li>
                            <li><strong>Figuras femeninas:</strong> 3 dibujos (frontal, perfil, 3/4)</li>
                            <li><strong>An√°lisis comparativo:</strong> Diferencias entre canon masculino y femenino</li>
                            <li><strong>Poses din√°micas:</strong> 2 figuras en movimiento manteniendo proporciones</li>
                            <li><strong>Autorreflexi√≥n:</strong> 300 palabras sobre tu proceso de aprendizaje</li>
                        </ol>
                        <p><strong>Criterios de evaluaci√≥n:</strong></p>
                        <ul>
                            <li>Precisi√≥n proporcional (40%)</li>
                            <li>Aplicaci√≥n metodol√≥gica (30%)</li>
                            <li>Creatividad en poses (20%)</li>
                            <li>Limpieza de ejecuci√≥n (10%)</li>
                        </ul>
                    </div>
                    
                    <h2>Evaluaci√≥n Te√≥rica</h2>
                    <div class="quiz-container">
                        <div class="quiz-question">¬øCu√°l es la principal ventaja del canon de 8 cabezas sobre las proporciones naturales?</div>
                        <div class="quiz-options">
                            <div class="quiz-option" onclick="selectAnswer(this, false)">Es m√°s r√°pido de dibujar</div>
                            <div class="quiz-option" onclick="selectAnswer(this, false)">Usa menos l√≠neas de construcci√≥n</div>
                        </div>
                    </div>
                    
                    <h2>Pr√≥ximos Pasos</h2>
                    <p>Al completar este m√≥dulo habr√°s dominado:</p>
                    <ul>
                        <li>‚úÖ Sistema de proporciones cl√°sico</li>
                        <li>‚úÖ Construcci√≥n b√°sica de figuras</li>
                        <li>‚úÖ Diferencias anat√≥micas fundamentales</li>
                        <li>‚úÖ Metodolog√≠a de autocorrecci√≥n</li>
                    </ul>
                    <p>Estar√°s preparado para el <strong>M√≥dulo 2: Anatom√≠a Facial</strong>, donde aplicar√°s estos conocimientos al estudio detallado del rostro humano.</p>
                `
            }
        };

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Inicializando M√≥dulo 1...');
            
            // Verificar autenticaci√≥n
            if (typeof getCurrentUser !== 'undefined' && typeof protectPage !== 'undefined') {
                if (!protectPage()) {
                    return;
                }
                currentUser = getCurrentUser();
            } else {
                // Si no hay auth.js, verificar localStorage
                const storedUser = localStorage.getItem('currentUser');
                if (storedUser) {
                    currentUser = JSON.parse(storedUser);
                } else {
                    // Redirigir a login si no hay usuario
                    window.location.href = 'login.html';
                    return;
                }
            }

            console.log('Usuario en m√≥dulo:', currentUser);

            // Cargar progreso
            loadModuleProgress();
            
            // Cargar primera lecci√≥n
            loadLesson(1);
            
            // Registrar actividad
            if (typeof logUserActivity === 'function') {
                logUserActivity('module_access', currentUser, { 
                    moduleId: 1,
                    moduleTitle: 'Fundamentos y Proporci√≥n'
                });
            }
        });

        // Cargar progreso del m√≥dulo
        function loadModuleProgress() {
            const progressKey = `progress_${currentUser.username || currentUser.email}`;
            const userProgress = JSON.parse(localStorage.getItem(progressKey) || 'null');
            
            if (userProgress && userProgress.modules[1]) {
                moduleProgress = userProgress.modules[1].progress || 0;
                completedLessons = userProgress.modules[1].completedLessons || [];
            }
            
            updateProgressDisplay();
            updateSidebarProgress();
        }

        // Actualizar visualizaci√≥n del progreso
        function updateProgressDisplay() {
            document.getElementById('progressText').textContent = moduleProgress + '% Completado';
            
            const progressBar = document.getElementById('moduleProgress');
            progressBar.style.width = moduleProgress + '%';
            progressBar.querySelector('span').textContent = moduleProgress + '%';
        }

        // Actualizar progreso en sidebar
        function updateSidebarProgress() {
            document.querySelectorAll('.lesson-link').forEach((link, index) => {
                const lessonNumber = index + 1;
                if (completedLessons.includes(lessonNumber)) {
                    link.classList.add('completed');
                }
            });
        }

        // Cargar lecci√≥n espec√≠fica
        function loadLesson(lessonNumber) {
            currentLesson = lessonNumber;
            
            // Actualizar sidebar
            document.querySelectorAll('.lesson-link').forEach((link, index) => {
                link.classList.remove('active');
                if (index + 1 === lessonNumber) {
                    link.classList.add('active');
                }
            });

            // Actualizar contenido
            const lesson = lessonsContent[lessonNumber];
            if (lesson) {
                document.querySelector('.lesson-title').textContent = lesson.title;
                document.querySelector('.lesson-meta').innerHTML = lesson.meta;
                document.getElementById('lessonContent').innerHTML = lesson.content;
            }

            // Actualizar botones de navegaci√≥n
            updateNavigationButtons();

            // Animaci√≥n de contenido
            const content = document.getElementById('mainContent');
            content.classList.remove('fade-in');
            setTimeout(() => {
                content.classList.add('fade-in');
            }, 100);

            console.log('Lecci√≥n cargada:', lessonNumber);
        }

        // Actualizar botones de navegaci√≥n
        function updateNavigationButtons() {
            const prevButton = document.getElementById('prevButton');
            const nextButton = document.getElementById('nextButton');
            const completeButton = document.getElementById('completeButton');

            // Bot√≥n anterior
            if (currentLesson <= 1) {
                prevButton.disabled = true;
            } else {
                prevButton.disabled = false;
                prevButton.onclick = () => loadLesson(currentLesson - 1);
            }

            // Bot√≥n siguiente
            if (currentLesson >= 6) {
                nextButton.style.display = 'none';
            } else {
                nextButton.style.display = 'flex';
                nextButton.onclick = () => loadLesson(currentLesson + 1);
            }

            // Bot√≥n completar
            if (completedLessons.includes(currentLesson)) {
                completeButton.textContent = '‚úì Lecci√≥n Completada';
                completeButton.style.background = 'var(--success)';
            } else {
                completeButton.textContent = 'Marcar como Completada';
                completeButton.style.background = 'var(--success)';
            }
        }

        // Completar lecci√≥n
        function completeLesson() {
            if (!completedLessons.includes(currentLesson)) {
                completedLessons.push(currentLesson);
                
                // Calcular nuevo progreso
                moduleProgress = Math.round((completedLessons.length / 6) * 100);
                
                // Guardar progreso
                saveProgress();
                
                // Actualizar UI
                updateProgressDisplay();
                updateSidebarProgress();
                updateNavigationButtons();
                
                // Mostrar notificaci√≥n
                if (currentLesson === 6 && moduleProgress >= 100) {
                    showNotification('¬°Felicitaciones! Has completado todo el m√≥dulo');
                    
                    // Redirigir al index despu√©s de completar
                    setTimeout(() => {
                        window.location.href = 'index.html';
                    }, 3000);
                } else {
                    showNotification('¬°Lecci√≥n completada!');
                    
                    // Auto-avanzar si no es la √∫ltima lecci√≥n
                    if (currentLesson < 6) {
                        setTimeout(() => {
                            loadLesson(currentLesson + 1);
                        }, 2000);
                    }
                }
            }
        }

        // Guardar progreso
        function saveProgress() {
            const progressKey = `progress_${currentUser.username || currentUser.email}`;
            let userProgress = JSON.parse(localStorage.getItem(progressKey) || 'null');
            
            if (!userProgress) {
                userProgress = {
                    modules: {
                        1: { completed: false, progress: 0, timeSpent: 0, completedLessons: [] },
                        2: { completed: false, progress: 0, timeSpent: 0, completedLessons: [] },
                        3: { completed: false, progress: 0, timeSpent: 0, completedLessons: [] },
                        4: { completed: false, progress: 0, timeSpent: 0, completedLessons: [] }
                    },
                    overallProgress: 0,
                    totalTimeSpent: 0,
                    lastActivity: new Date().toISOString()
                };
            }

            // Actualizar m√≥dulo 1
            userProgress.modules[1].progress = moduleProgress;
            userProgress.modules[1].completed = moduleProgress >= 100;
            userProgress.modules[1].completedLessons = completedLessons;
            userProgress.modules[1].lastUpdate = new Date().toISOString();

            // Calcular progreso general
            let totalProgress = 0;
            let completedCount = 0;
            
            for (let id in userProgress.modules) {
                totalProgress += userProgress.modules[id].progress || 0;
                if (userProgress.modules[id].completed) {
                    completedCount++;
                }
            }
            
            userProgress.overallProgress = Math.round(totalProgress / 4);
            userProgress.lastActivity = new Date().toISOString();

            localStorage.setItem(progressKey, JSON.stringify(userProgress));

            // Registrar actividad
            if (typeof logUserActivity === 'function') {
                logUserActivity('lesson_completed', currentUser, {
                    moduleId: 1,
                    lessonId: currentLesson,
                    progress: moduleProgress
                });
            }
            
            console.log(`Progreso guardado: M√≥dulo 1, ${moduleProgress}% completado`);
        }

        // Funciones de quiz
        function selectAnswer(element, isCorrect) {
            // Resetear todas las opciones
            document.querySelectorAll('.quiz-option').forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
            });

            // Marcar seleccionada
            element.classList.add('selected');
            
            // Mostrar resultado despu√©s de un delay
            setTimeout(() => {
                if (isCorrect) {
                    element.classList.add('correct');
                    showNotification('¬°Correcto!');
                } else {
                    element.classList.add('incorrect');
                    showNotification('Intenta de nuevo', 'error');
                }
            }, 500);
        }

        // Reproducir video (placeholder)
        function playVideo() {
            showNotification('Video player: En una implementaci√≥n real, aqu√≠ se reproducir√≠a el video educativo.', 'info');
        }

        // Mostrar notificaci√≥n
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type} show`;
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Obtener t√≠tulo de lecci√≥n
        function getLessonTitle(num) {
            const lesson = lessonsContent[num];
            return lesson ? lesson.title : 'Lecci√≥n';
        }

        // Manejar errores
        window.addEventListener('error', function(e) {
            console.error('Error en m√≥dulo:', e);
            showNotification('Ha ocurrido un error. Recarga la p√°gina si persiste.', 'error');
        });
    </script>
</body>
</html)">Es m√°s f√°cil de memorizar</div>
                            <div class="quiz-option" onclick="selectAnswer(this, true)">Crea figuras m√°s elegantes y heroicas</div>
                            <div class="quiz-option" onclick="selectAnswer(this, false