<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluación Diagnóstica - Dibujo UAH</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
        :root {
            --primary-dark: #2c5f66;
            --primary-light: #e8a2b8;
            --dark: #1a1a1a;
        }

        body {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            min-height: 100vh;
            padding: 2rem 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        .diagnostic-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .diagnostic-card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
            overflow: hidden;
            margin-bottom: 2rem;
        }

        .diagnostic-header {
            background: linear-gradient(135deg, var(--primary-dark), var(--dark));
            color: white;
            padding: 3rem 2rem;
            text-align: center;
        }

        .diagnostic-header i {
            font-size: 4rem;
            margin-bottom: 1rem;
            opacity: 0.9;
        }

        .diagnostic-header h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .diagnostic-header p {
            font-size: 1.1rem;
            opacity: 0.9;
            margin: 0;
        }

        .diagnostic-body {
            padding: 2.5rem;
        }

        .progress-tracker {
            display: flex;
            justify-content: space-between;
            margin-bottom: 3rem;
            position: relative;
        }

        .progress-tracker::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 3px;
            background: #e9ecef;
            z-index: 0;
        }

        .progress-line {
            position: absolute;
            top: 20px;
            left: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-dark), var(--primary-light));
            z-index: 1;
            transition: width 0.3s ease;
        }

        .progress-step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            border: 3px solid #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            position: relative;
            z-index: 2;
            transition: all 0.3s ease;
        }

        .progress-step.active {
            border-color: var(--primary-dark);
            background: var(--primary-dark);
            color: white;
        }

        .progress-step.completed {
            border-color: var(--primary-light);
            background: var(--primary-light);
            color: white;
        }

        .section {
            display: none;
            animation: fadeInUp 0.5s ease-out;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-title {
            color: var(--primary-dark);
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .section-subtitle {
            color: #6c757d;
            margin-bottom: 2rem;
            font-size: 1rem;
        }

        .question-block {
            background: #f8f9fa;
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 1.5rem;
            border-left: 4px solid var(--primary-light);
        }

        .question-label {
            font-weight: 600;
            color: var(--dark);
            display: block;
            margin-bottom: 1rem;
            font-size: 1.05rem;
        }

        .question-hint {
            font-size: 0.85rem;
            color: #6c757d;
            margin-top: 0.5rem;
            font-style: italic;
        }

        .form-select, .form-control {
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 0.75rem;
            transition: all 0.3s ease;
        }

        .form-select:focus, .form-control:focus {
            border-color: var(--primary-dark);
            box-shadow: 0 0 0 0.25rem rgba(44,95,102,0.15);
        }

        .form-check {
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 0.75rem;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .form-check:hover {
            background: rgba(44,95,102,0.05);
            border-color: var(--primary-light);
        }

        .form-check-input {
            width: 1.25rem;
            height: 1.25rem;
            margin-top: 0.25rem;
            cursor: pointer;
        }

        .form-check-input:checked {
            background-color: var(--primary-dark);
            border-color: var(--primary-dark);
        }

        .form-check-label {
            cursor: pointer;
            margin-left: 0.5rem;
        }

        .reference-image-container {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 1rem;
            margin: 1.5rem 0;
            text-align: center;
        }

        .reference-image {
            max-width: 100%;
            height: 300px;
            background: linear-gradient(135deg, #e9ecef, #f8f9fa);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6c757d;
            font-style: italic;
            margin: 0 auto;
        }

        .image-caption {
            margin-top: 1rem;
            font-size: 0.9rem;
            color: #6c757d;
        }

        .btn-nav {
            padding: 0.75rem 2rem;
            border-radius: 10px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
        }

        .btn-primary-custom {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary-light));
            color: white;
        }

        .btn-primary-custom:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(44,95,102,0.3);
        }

        .btn-secondary-custom {
            background: #e9ecef;
            color: var(--dark);
        }

        .btn-secondary-custom:hover {
            background: #dee2e6;
        }

        .result-card {
            background: linear-gradient(135deg, rgba(44,95,102,0.1), rgba(232,162,184,0.1));
            border-radius: 12px;
            padding: 2rem;
            margin-top: 2rem;
        }

        .result-card h4 {
            color: var(--primary-dark);
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .result-score {
            font-size: 3rem;
            font-weight: bold;
            color: var(--primary-dark);
            text-align: center;
            margin: 1rem 0;
        }

        .result-level {
            background: var(--primary-dark);
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            display: inline-block;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .recommendation-card {
            background: white;
            border-left: 4px solid var(--primary-light);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .recommendation-card h6 {
            color: var(--primary-dark);
            margin-bottom: 0.75rem;
            font-weight: 600;
        }

        .recommendation-card ul {
            margin: 0;
            padding-left: 1.25rem;
        }

        .recommendation-card li {
            margin-bottom: 0.5rem;
        }

        @media (max-width: 768px) {
            .diagnostic-body {
                padding: 1.5rem;
            }

            .progress-tracker {
                display: none;
            }

            .diagnostic-header {
                padding: 2rem 1rem;
            }

            .diagnostic-header h1 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="diagnostic-container">
        <div class="diagnostic-card">
            <div class="diagnostic-header">
                <i class="bi bi-clipboard-data"></i>
                <h1>Evaluación Diagnóstica</h1>
                <p>Personalicemos tu experiencia de aprendizaje</p>
            </div>

            <div class="diagnostic-body">
                <!-- Progress Tracker -->
                <div class="progress-tracker">
                    <div class="progress-line" id="progressLine" style="width: 0%"></div>
                    <div class="progress-step active" data-step="1">1</div>
                    <div class="progress-step" data-step="2">2</div>
                    <div class="progress-step" data-step="3">3</div>
                    <div class="progress-step" data-step="4">4</div>
                    <div class="progress-step" data-step="5">5</div>
                </div>

                <form id="diagnosticForm">
                    <!-- SECCIÓN 1: EXPERIENCIA PREVIA -->
                    <div class="section active" data-section="1">
                        <h2 class="section-title">
                            <i class="bi bi-palette"></i>
                            Experiencia Previa
                        </h2>
                        <p class="section-subtitle">Cuéntanos sobre tu trayectoria en el dibujo de figura humana</p>

                        <div class="question-block">
                            <label class="question-label">1. ¿Has dibujado figura humana antes?</label>
                            <select class="form-select" name="experience" required>
                                <option value="">Selecciona una opción...</option>
                                <option value="never">Nunca - Esta es mi primera vez</option>
                                <option value="beginner">Principiante - He hecho 1-5 dibujos</option>
                                <option value="intermediate">Intermedio - He hecho 5-20 dibujos</option>
                                <option value="advanced">Avanzado - He hecho más de 20 dibujos</option>
                                <option value="expert">Experto - Practico regularmente</option>
                            </select>
                            <small class="question-hint">Tu respuesta nos ayuda a ajustar el ritmo del curso</small>
                        </div>

                        <div class="question-block">
                            <label class="question-label">2. ¿Has tomado clases formales de dibujo anatómico?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="formalTraining" value="yes" id="ft_yes" required>
                                <label class="form-check-label" for="ft_yes">
                                    Sí, he tomado cursos formales o talleres
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="formalTraining" value="some" id="ft_some">
                                <label class="form-check-label" for="ft_some">
                                    He aprendido por mi cuenta (YouTube, libros, tutoriales)
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="formalTraining" value="no" id="ft_no">
                                <label class="form-check-label" for="ft_no">
                                    No, no he estudiado dibujo formal
                                </label>
                            </div>
                        </div>

                        <div class="question-block">
                            <label class="question-label">3. ¿Con qué frecuencia dibujas actualmente?</label>
                            <select class="form-select" name="drawingFrequency" required>
                                <option value="">Selecciona una opción...</option>
                                <option value="daily">Diariamente</option>
                                <option value="weekly">Semanalmente (2-3 veces por semana)</option>
                                <option value="occasional">Ocasionalmente (1 vez por semana o menos)</option>
                                <option value="rarely">Raramente (solo cuando hay tarea)</option>
                                <option value="never">No dibujo actualmente</option>
                            </select>
                        </div>
                    </div>

                    <!-- SECCIÓN 2: CONOCIMIENTO CONCEPTUAL -->
                    <div class="section" data-section="2">
                        <h2 class="section-title">
                            <i class="bi bi-book"></i>
                            Conocimiento Conceptual
                        </h2>
                        <p class="section-subtitle">Evalúa tu familiaridad con conceptos clave del dibujo anatómico</p>

                        <div class="question-block">
                            <label class="question-label">4. ¿Conoces el concepto de "línea de acción"?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="lineAction" value="expert" id="la_expert" required>
                                <label class="form-check-label" for="la_expert">
                                    Sí, la uso regularmente en mis dibujos
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="lineAction" value="know" id="la_know">
                                <label class="form-check-label" for="la_know">
                                    Sé qué es, pero no la aplico consistentemente
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="lineAction" value="heard" id="la_heard">
                                <label class="form-check-label" for="la_heard">
                                    He escuchado el término pero no sé exactamente qué es
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="lineAction" value="no" id="la_no">
                                <label class="form-check-label" for="la_no">
                                    No, es la primera vez que escucho este término
                                </label>
                            </div>
                        </div>

                        <div class="question-block">
                            <label class="question-label">5. ¿Sabes qué es el "contrapposto"?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="contrapposto" value="yes" id="cp_yes" required>
                                <label class="form-check-label" for="cp_yes">
                                    Sí, conozco el concepto y lo aplico
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="contrapposto" value="heard" id="cp_heard">
                                <label class="form-check-label" for="cp_heard">
                                    He escuchado el término pero no lo domino
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="contrapposto" value="no" id="cp_no">
                                <label class="form-check-label" for="cp_no">
                                    No, no sé qué es
                                </label>
                            </div>
                        </div>

                        <div class="question-block">
                            <label class="question-label">6. ¿Conoces las proporciones canónicas del cuerpo humano (ej: "8 cabezas")?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="proportions" value="yes" id="prop_yes" required>
                                <label class="form-check-label" for="prop_yes">
                                    Sí, las conozco y las uso al dibujar
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="proportions" value="some" id="prop_some">
                                <label class="form-check-label" for="prop_some">
                                    Conozco algunas proporciones básicas
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="proportions" value="no" id="prop_no">
                                <label class="form-check-label" for="prop_no">
                                    No, no las conozco
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- SECCIÓN 3: OBSERVACIÓN VISUAL -->
                    <div class="section" data-section="3">
                        <h2 class="section-title">
                            <i class="bi bi-eye"></i>
                            Habilidad de Observación
                        </h2>
                        <p class="section-subtitle">Evalúa tu capacidad de análisis visual de la figura humana</p>

                        <div class="question-block">
                            <label class="question-label">7. Observa esta figura. ¿Dónde está concentrado el peso del cuerpo?</label>
                            <div class="reference-image-container">
                                <div class="reference-image">
                                    <div>
                                        <i class="bi bi-image" style="font-size: 3rem; color: #dee2e6;"></i>
                                        <p class="mt-2 mb-0">Imagen de referencia:<br><strong>Figura en contrapposto</strong></p>
                                        <small class="text-muted">(Peso claramente en pierna derecha)</small>
                                    </div>
                                </div>
                                <p class="image-caption">Referencia: Figura humana de pie con distribución asimétrica de peso</p>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="weight" value="left" id="w_left" required>
                                <label class="form-check-label" for="w_left">
                                    Principalmente en el pie izquierdo
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="weight" value="right" id="w_right">
                                <label class="form-check-label" for="w_right">
                                    Principalmente en el pie derecho ✓ (Correcto)
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="weight" value="both" id="w_both">
                                <label class="form-check-label" for="w_both">
                                    Distribuido equitativamente en ambos pies
                                </label>
                            </div>
                            <small class="question-hint">Esta pregunta evalúa tu capacidad de observación visual</small>
                        </div>

                        <div class="question-block">
                            <label class="question-label">8. ¿Cuál de estas técnicas usas al dibujar figura humana?</label>
                            <small class="question-hint d-block mb-3">Puedes seleccionar múltiples opciones (marca todas las que apliquen)</small>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="techniques" value="gesture" id="tech_gesture">
                                <label class="form-check-label" for="tech_gesture">
                                    Croquis gestual rápido (capturar movimiento)
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="techniques" value="construction" id="tech_construction">
                                <label class="form-check-label" for="tech_construction">
                                    Construcción por formas geométricas básicas
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="techniques" value="contour" id="tech_contour">
                                <label class="form-check-label" for="tech_contour">
                                    Dibujo de contorno (línea externa)
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="techniques" value="anatomy" id="tech_anatomy">
                                <label class="form-check-label" for="tech_anatomy">
                                    Dibujo anatómico (músculos y huesos)
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="techniques" value="none" id="tech_none">
                                <label class="form-check-label" for="tech_none">
                                    Ninguna técnica específica / Dibujo intuitivamente
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- SECCIÓN 4: MOTIVACIÓN Y OBJETIVOS -->
                    <div class="section" data-section="4">
                        <h2 class="section-title">
                            <i class="bi bi-bullseye"></i>
                            Motivación y Objetivos
                        </h2>
                        <p class="section-subtitle">¿Qué esperas lograr con este curso?</p>

                        <div class="question-block">
                            <label class="question-label">9. ¿Cuál es tu principal objetivo con este curso?</label>
                            <select class="form-select" name="goal" required>
                                <option value="">Selecciona una opción...</option>
                                <option value="fundamentals">Aprender fundamentos desde cero</option>
                                <option value="improve">Mejorar técnica existente</option>
                                <option value="portfolio">Crear portfolio para postular a estudios superiores</option>
                                <option value="academic">Completar requisito académico obligatorio</option>
                                <option value="professional">Desarrollo profesional (ilustración, animación, etc.)</option>
                                <option value="hobby">Hobby personal / Exploración artística</option>
                                <option value="teaching">Aprender para enseñar a otros</option>
                            </select>
                        </div>

                        <div class="question-block">
                            <label class="question-label">10. ¿Qué aspecto te genera más inseguridad al dibujar figura humana?</label>
                            <select class="form-select" name="weakness" required>
                                <option value="">Selecciona una opción...</option>
                                <option value="proportions">Las proporciones (tamaños relativos de las partes)</option>
                                <option value="hands">Las manos y pies</option>
                                <option value="face">El rostro y expresiones faciales</option>
                                <option value="movement">Capturar movimiento y dinamismo</option>
                                <option value="anatomy">Anatomía muscular y ósea</option>
                                <option value="perspective">Perspectiva y escorzo</option>
                                <option value="shading">Sombreado y volumen</option>
                                <option value="all">Todo - Me siento inseguro en general</option>
                                <option value="none">Ninguno - Me siento confiado</option>
                            </select>
                            <small class="question-hint">Esto nos ayuda a identificar áreas donde necesitas más apoyo</small>
                        </div>

                        <div class="question-block">
                            <label class="question-label">11. ¿Qué te motiva más al aprender?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="motivation" value="results" id="mot_results" required>
                                <label class="form-check-label" for="mot_results">
                                    Ver resultados concretos rápidamente
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="motivation" value="theory" id="mot_theory">
                                <label class="form-check-label" for="mot_theory">
                                    Entender la teoría y fundamentos profundamente
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="motivation" value="practice" id="mot_practice">
                                <label class="form-check-label" for="mot_practice">
                                    Practicar repetidamente hasta dominar
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="motivation" value="creative" id="mot_creative">
                                <label class="form-check-label" for="mot_creative">
                                    Libertad para explorar y experimentar
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- SECCIÓN 5: DISPONIBILIDAD -->
                    <div class="section" data-section="5">
                        <h2 class="section-title">
                            <i class="bi bi-calendar-check"></i>
                            Disponibilidad y Compromiso
                        </h2>
                        <p class="section-subtitle">Planifiquemos tu ritmo de aprendizaje</p>

                        <div class="question-block">
                            <label class="question-label">12. ¿Cuántas horas semanales puedes dedicar a este curso?</label>
                            <select class="form-select" name="dedication" required>
                                <option value="">Selecciona una opción...</option>
                                <option value="1-2">1-2 horas por semana (ritmo relajado)</option>
                                <option value="3-5">3-5 horas por semana (ritmo recomendado)</option>
                                <option value="6-10">6-10 horas por semana (ritmo intensivo)</option>
                                <option value="10+">Más de 10 horas por semana (dedicación completa)</option>
                            </select>
                            <small class="question-hint">El curso está diseñado para 12-14 horas totales en 12 días</small>
                        </div>

                        <div class="question-block">
                            <label class="question-label">13. ¿Cuál es tu disponibilidad preferida para estudiar?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="schedule" value="morning" id="sched_morning">
                                <label class="form-check-label" for="sched_morning">
                                    Mañanas (6:00 - 12:00)
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="schedule" value="afternoon" id="sched_afternoon">
                                <label class="form-check-label" for="sched_afternoon">
                                    Tardes (12:00 - 18:00)
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="schedule" value="evening" id="sched_evening">
                                <label class="form-check-label" for="sched_evening">
                                    Noches (18:00 - 24:00)
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="schedule" value="flexible" id="sched_flexible">
                                <label class="form-check-label" for="sched_flexible">
                                    Flexible (cualquier horario)
                                </label>
                            </div>
                            <small class="question-hint">Esto es solo referencial para tu organización personal</small>
                        </div>

                        <div class="question-block">
                            <label class="question-label">14. ¿Tienes los materiales básicos para el curso?</label>
                            <small class="question-hint d-block mb-3">Materiales requeridos: papel, lápices (HB, 2B, 4B), goma de borrar</small>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="materials" value="yes" id="mat_yes" required>
                                <label class="form-check-label" for="mat_yes">
                                    Sí, tengo todos los materiales necesarios
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="materials" value="partial" id="mat_partial">
                                <label class="form-check-label" for="mat_partial">
                                    Tengo algunos, pero necesito completar
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="materials" value="no" id="mat_no">
                                <label class="form-check-label" for="mat_no">
                                    No, necesito adquirir los materiales
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="materials" value="digital" id="mat_digital">
                                <label class="form-check-label" for="mat_digital">
                                    Prefiero trabajar digitalmente (tablet/iPad)
                                </label>
                            </div>
                        </div>

                        <div class="question-block">
                            <label class="question-label">15. ¿Cómo prefieres aprender?</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="learningStyle" value="visual" id="learn_visual" required>
                                <label class="form-check-label" for="learn_visual">
                                    Visual (videos, imágenes, demostraciones)
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="learningStyle" value="reading" id="learn_reading">
                                <label class="form-check-label" for="learn_reading">
                                    Lectura/Texto (explicaciones escritas detalladas)
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="learningStyle" value="practice" id="learn_practice">
                                <label class="form-check-label" for="learn_practice">
                                    Práctica directa (aprender haciendo)
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="learningStyle" value="mixed" id="learn_mixed">
                                <label class="form-check-label" for="learn_mixed">
                                    Mixto (combinación de todos)
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Navegación entre secciones -->
                    <div class="d-flex justify-content-between mt-4">
                        <button type="button" class="btn btn-nav btn-secondary-custom" id="btnPrev" style="display: none;">
                            <i class="bi bi-arrow-left me-2"></i>Anterior
                        </button>
                        <button type="button" class="btn btn-nav btn-primary-custom ms-auto" id="btnNext">
                            Siguiente <i class="bi bi-arrow-right ms-2"></i>
                        </button>
                        <button type="submit" class="btn btn-nav btn-primary-custom ms-auto" id="btnSubmit" style="display: none;">
                            <i class="bi bi-check-circle me-2"></i>Finalizar Evaluación
                        </button>
                    </div>
                </form>

                <!-- Resultados -->
                <div id="resultSection" style="display: none;">
                    <div class="result-card">
                        <h4 class="text-center">
                            <i class="bi bi-trophy-fill me-2"></i>
                            Evaluación Completada
                        </h4>
                        
                        <div class="text-center mb-4">
                            <div class="result-score" id="resultScore">-</div>
                            <span class="result-level" id="resultLevel">-</span>
                        </div>

                        <div id="recommendationsContainer"></div>

                        <div class="text-center mt-4">
                            <p class="mb-3"><strong>Tu perfil diagnóstico ha sido guardado exitosamente.</strong></p>
                            <p class="text-muted small mb-4">Redirigiendo al curso en <span id="countdown">5</span> segundos...</p>
                            <button class="btn btn-nav btn-primary-custom" onclick="window.location.href='index.html'">
                                <i class="bi bi-play-circle me-2"></i>Ir al Curso Ahora
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let currentSection = 1;
        const totalSections = 5;

        // Navegación entre secciones
        document.getElementById('btnNext').addEventListener('click', function() {
            if (validateCurrentSection()) {
                if (currentSection < totalSections) {
                    currentSection++;
                    showSection(currentSection);
                }
            }
        });

        document.getElementById('btnPrev').addEventListener('click', function() {
            if (currentSection > 1) {
                currentSection--;
                showSection(currentSection);
            }
        });

        function showSection(sectionNum) {
            // Ocultar todas las secciones
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });

            // Mostrar sección actual
            document.querySelector(`[data-section="${sectionNum}"]`).classList.add('active');

            // Actualizar progress tracker
            updateProgressTracker(sectionNum);

            // Actualizar botones de navegación
            document.getElementById('btnPrev').style.display = sectionNum === 1 ? 'none' : 'inline-block';
            document.getElementById('btnNext').style.display = sectionNum === totalSections ? 'none' : 'inline-block';
            document.getElementById('btnSubmit').style.display = sectionNum === totalSections ? 'inline-block' : 'none';

            // Scroll al inicio
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function updateProgressTracker(currentStep) {
            // Actualizar círculos de progreso
            document.querySelectorAll('.progress-step').forEach((step, index) => {
                const stepNum = index + 1;
                if (stepNum < currentStep) {
                    step.classList.add('completed');
                    step.classList.remove('active');
                } else if (stepNum === currentStep) {
                    step.classList.add('active');
                    step.classList.remove('completed');
                } else {
                    step.classList.remove('active', 'completed');
                }
            });

            // Actualizar línea de progreso
            const progressPercentage = ((currentStep - 1) / (totalSections - 1)) * 100;
            document.getElementById('progressLine').style.width = progressPercentage + '%';
        }

        function validateCurrentSection() {
            const currentSectionElement = document.querySelector(`[data-section="${currentSection}"]`);
            const requiredInputs = currentSectionElement.querySelectorAll('[required]');
            
            let isValid = true;
            requiredInputs.forEach(input => {
                if (!input.value && input.type !== 'radio' && input.type !== 'checkbox') {
                    input.classList.add('is-invalid');
                    isValid = false;
                } else if ((input.type === 'radio' || input.type === 'checkbox')) {
                    const name = input.name;
                    const checked = currentSectionElement.querySelector(`[name="${name}"]:checked`);
                    if (!checked && input.hasAttribute('required')) {
                        isValid = false;
                    }
                }
            });

            if (!isValid) {
                alert('Por favor completa todos los campos requeridos antes de continuar.');
            }

            return isValid;
        }

        // Envío del formulario
        document.getElementById('diagnosticForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!validateCurrentSection()) {
                return;
            }

            const formData = new FormData(e.target);
            const profile = {
                // Experiencia
                experience: formData.get('experience'),
                formalTraining: formData.get('formalTraining'),
                drawingFrequency: formData.get('drawingFrequency'),
                
                // Conocimiento
                lineAction: formData.get('lineAction'),
                contrapposto: formData.get('contrapposto'),
                proportions: formData.get('proportions'),
                
                // Observación
                weight: formData.get('weight'),
                techniques: formData.getAll('techniques'),
                
                // Motivación
                goal: formData.get('goal'),
                weakness: formData.get('weakness'),
                motivation: formData.get('motivation'),
                
                // Disponibilidad
                dedication: formData.get('dedication'),
                schedule: formData.getAll('schedule'),
                materials: formData.get('materials'),
                learningStyle: formData.get('learningStyle'),
                
                // Metadata
                timestamp: new Date().toISOString(),
                completed: true
            };

            // Calcular puntaje y nivel
            const result = calculateResults(profile);

            // Guardar perfil completo
            localStorage.setItem('student_diagnostic', JSON.stringify(profile));
            localStorage.setItem('student_level', result.level);
            localStorage.setItem('student_score', result.score);

            // Mostrar resultados
            displayResults(result, profile);
        });

        function calculateResults(profile) {
            let score = 0;
            let level = '';

            // Calcular puntaje basado en experiencia (30 puntos)
            const experienceScores = {
                'never': 0,
                'beginner': 5,
                'intermediate': 15,
                'advanced': 25,
                'expert': 30
            };
            score += experienceScores[profile.experience] || 0;

            // Calcular puntaje basado en conocimiento conceptual (30 puntos)
            const conceptScores = {
                'expert': 10, 'know': 7, 'heard': 3, 'no': 0,
                'yes': 10, 'some': 5
            };
            score += conceptScores[profile.lineAction] || 0;
            score += conceptScores[profile.contrapposto] || 0;
            score += conceptScores[profile.proportions] || 0;

            // Calcular puntaje basado en observación (20 puntos)
            if (profile.weight === 'right') score += 10; // Respuesta correcta
            score += profile.techniques.length * 2; // 2 puntos por técnica conocida (max 10)

            // Calcular puntaje basado en dedicación (20 puntos)
            const dedicationScores = {
                '1-2': 5,
                '3-5': 15,
                '6-10': 20,
                '10+': 20
            };
            score += dedicationScores[profile.dedication] || 0;

            // Determinar nivel (total: 100 puntos posibles)
            if (score >= 80) {
                level = 'Avanzado';
            } else if (score >= 50) {
                level = 'Intermedio';
            } else if (score >= 20) {
                level = 'Principiante con Bases';
            } else {
                level = 'Principiante Absoluto';
            }

            return { score, level };
        }

        function displayResults(result, profile) {
            // Ocultar formulario
            document.getElementById('diagnosticForm').style.display = 'none';
            document.querySelector('.progress-tracker').style.display = 'none';

            // Mostrar sección de resultados
            document.getElementById('resultSection').style.display = 'block';

            // Actualizar score y nivel
            document.getElementById('resultScore').textContent = result.score + ' / 100';
            document.getElementById('resultLevel').textContent = result.level;

            // Generar recomendaciones personalizadas
            const recommendations = generateRecommendations(result.level, profile);
            const container = document.getElementById('recommendationsContainer');
            
            container.innerHTML = recommendations.map(rec => `
                <div class="recommendation-card">
                    <h6><i class="bi bi-${rec.icon} me-2"></i>${rec.title}</h6>
                    <ul>
                        ${rec.items.map(item => `<li>${item}</li>`).join('')}
                    </ul>
                </div>
            `).join('');

            // Countdown para redirección
            let countdown = 5;
            const countdownElement = document.getElementById('countdown');
            const countdownInterval = setInterval(() => {
                countdown--;
                countdownElement.textContent = countdown;
                if (countdown <= 0) {
                    clearInterval(countdownInterval);
                    window.location.href = 'index.html';
                }
            }, 1000);
        }

        function generateRecommendations(level, profile) {
            const recommendations = [];

            // Recomendación basada en nivel
            if (level === 'Principiante Absoluto') {
                recommendations.push({
                    icon: 'lightbulb',
                    title: 'Enfoque Recomendado',
                    items: [
                        'Dedica tiempo extra a las lecciones del Módulo 1 (Observación y Gesto)',
                        'No te preocupes por la perfección, enfócate en completar los ejercicios',
                        'Practica los croquis de 2 minutos varias veces antes de avanzar',
                        'Revisa los videos explicativos las veces que necesites'
                    ]
                });
            } else if (level === 'Principiante con Bases') {
                recommendations.push({
                    icon: 'lightbulb',
                    title: 'Enfoque Recomendado',
                    items: [
                        'Aprovecha tu experiencia previa para avanzar con confianza',
                        'Presta especial atención a las técnicas de medición visual',
                        'Enfócate en corregir malos hábitos desde el inicio',
                        'Compara tus ejercicios anteriores con los nuevos para ver tu progreso'
                    ]
                });
            } else if (level === 'Intermedio') {
                recommendations.push({
                    icon: 'lightbulb',
                    title: 'Enfoque Recomendado',
                    items: [
                        'Desafíate con tiempos más cortos en los ejercicios',
                        'Profundiza en los conceptos de anatomía funcional del Módulo 2',
                        'Experimenta con diferentes ángulos y poses complejas',
                        'Documenta tu proceso para identificar áreas de mejora'
                    ]
                });
            } else if (level === 'Avanzado') {
                recommendations.push({
                    icon: 'lightbulb',
                    title: 'Enfoque Recomendado',
                    items: [
                        'Enfócate en refinar tu técnica y desarrollar tu estilo personal',
                        'Presta especial atención al proyecto final del Módulo 3',
                        'Experimenta con iluminación dramática y composiciones complejas',
                        'Considera compartir tu conocimiento ayudando a compañeros'
                    ]
                });
            }

            // Recomendación basada en debilidad identificada
            if (profile.weakness) {
                const weaknessRecommendations = {
                    'proportions': 'Usa el método del lápiz como regla constantemente en el Módulo 1',
                    'hands': 'Dedica tiempo extra a la Lección 2.3 sobre extremidades',
                    'face': 'Presta especial atención a la Lección 2.4 sobre proporciones faciales',
                    'movement': 'Practica intensivamente los croquis gestuales del Módulo 1',
                    'anatomy': 'Estudia detenidamente el Módulo 2 completo sobre anatomía funcional',
                    'perspective': 'Enfócate en la Lección 2.3 sobre escorzo de extremidades',
                    'shading': 'Dedica tiempo adicional a la Lección 3.2 sobre luz y sombra',
                    'all': 'Avanza paso a paso sin saltarte lecciones, completa todos los ejercicios'
                };

                if (profile.weakness !== 'none') {
                    recommendations.push({
                        icon: 'target',
                        title: 'Área de Mejora Prioritaria',
                        items: [
                            weaknessRecommendations[profile.weakness],
                            'Repite los ejercicios de esta área hasta sentirte más seguro',
                            'Consulta las referencias bibliográficas adicionales'
                        ]
                    });
                }
            }

            // Recomendación basada en disponibilidad
            if (profile.dedication) {
                const dedicationAdvice = {
                    '1-2': {
                        pace: 'Ritmo relajado (3-4 semanas para completar)',
                        tips: [
                            'Distribuye las lecciones: 1 lección cada 3-4 días',
                            'No intentes completar un módulo en una sola sesión',
                            'Repasa conceptos previos antes de cada sesión'
                        ]
                    },
                    '3-5': {
                        pace: 'Ritmo recomendado (12-15 días para completar)',
                        tips: [
                            'Completa 1 lección por día de estudio',
                            'Dedica 1 día extra por módulo para repasar',
                            'Este es el ritmo óptimo diseñado para el curso'
                        ]
                    },
                    '6-10': {
                        pace: 'Ritmo intensivo (8-10 días para completar)',
                        tips: [
                            'Puedes completar 2 lecciones por día si lo deseas',
                            'Asegúrate de descansar para evitar sobrecarga',
                            'Dedica tiempo de calidad a cada ejercicio'
                        ]
                    },
                    '10+': {
                        pace: 'Dedicación completa (5-7 días para completar)',
                        tips: [
                            'Podrías completar un módulo completo por día',
                            'Prioriza calidad sobre velocidad en los ejercicios',
                            'Toma descansos regulares para evitar fatiga'
                        ]
                    }
                };

                const advice = dedicationAdvice[profile.dedication];
                if (advice) {
                    recommendations.push({
                        icon: 'calendar-check',
                        title: 'Plan de Estudio Sugerido',
                        items: [advice.pace, ...advice.tips]
                    });
                }
            }

            // Recomendación basada en estilo de aprendizaje
            if (profile.learningStyle) {
                const styleAdvice = {
                    'visual': [
                        'Aprovecha los videos explicativos al máximo',
                        'Observa detenidamente las imágenes de referencia',
                        'Crea tu propio banco de imágenes de referencia adicionales'
                    ],
                    'reading': [
                        'Lee detenidamente todos los acordeones teóricos',
                        'Toma notas de los conceptos clave',
                        'Consulta las referencias bibliográficas mencionadas'
                    ],
                    'practice': [
                        'Enfócate en completar todos los ejercicios prácticos',
                        'Repite ejercicios que no te salgan a la primera',
                        'Practica adicional con tus propias referencias'
                    ],
                    'mixed': [
                        'Equilibra teoría y práctica en cada sesión',
                        'Usa todos los recursos disponibles (videos, texto, ejercicios)',
                        'Experimenta para encontrar tu método óptimo'
                    ]
                };

                recommendations.push({
                    icon: 'bookmark-star',
                    title: 'Aprovecha tu Estilo de Aprendizaje',
                    items: styleAdvice[profile.learningStyle] || styleAdvice['mixed']
                });
            }

            return recommendations;
        }

        // Inicializar
        document.addEventListener('DOMContentLoaded', function() {
            showSection(1);
        });
    </script>
</body>
</html>